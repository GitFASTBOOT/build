{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "66f86543_04525844",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2881,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-11T20:28:46Z",
      "side": 1,
      "message": "Use `with zipfile.ZipFile(zip_filename, \u0027r\u0027) as zin:`, and remove the `zin.close()`. Same with zout.",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25a13e61_83152ee1",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2881,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2022-10-14T01:16:07Z",
      "side": 1,
      "message": "Done. ZipClose is used to close zout.",
      "parentUuid": "66f86543_04525844",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa32406e_06f34b5d",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2881,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-14T18:49:11Z",
      "side": 1,
      "message": "Why are you using ZipClose? Was there something wrong with using a `with` statement for zout as well?\n\n\nI looked into the ZIP64_LIMIT stuff, and it appears to no longer be relevant now that we\u0027re on python3, so you shouldn\u0027t need to worry about that.",
      "parentUuid": "25a13e61_83152ee1",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d166a632_fda9f044",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2882,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-11T20:28:46Z",
      "side": 1,
      "message": "The `_` you\u0027re ignoring here is an open file descriptor. We should make sure to close it, either with an `os.close(fd)` right after the mkstemp, or by using `zipfile.ZipFile(os.fdopen(fd, \u0027wb\u0027), \u0027w\u0027)` when creating `zout` in order to reuse it there. (And then the `with` statement will close the zipfile object and the file descriptor after)",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5f70360_66478912",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2882,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2022-10-14T01:16:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d166a632_fda9f044",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b380b8c_8b62faad",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2885,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-11T20:28:46Z",
      "side": 1,
      "message": "Inline this into the writestr call so that it\u0027s not read if we\u0027re deleting it.",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e5f5d80_b85d4040",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2885,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2022-10-14T01:16:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b380b8c_8b62faad",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96390228_3ab1e971",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2886,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-11T20:28:46Z",
      "side": 1,
      "message": "nit: Remove parenthesis and change to `if item.filename not in entries:`",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f7ecede_2eb0d648",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2886,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2022-10-14T01:16:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "96390228_3ab1e971",
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0573ece3_f422da7c",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2891,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2022-10-11T20:28:46Z",
      "side": 1,
      "message": "Replace both of these with `os.replace`",
      "range": {
        "startLine": 2890,
        "startChar": 0,
        "endLine": 2891,
        "endChar": 38
      },
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e58ae3f_825fa17d",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 2891,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2022-10-14T01:16:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0573ece3_f422da7c",
      "range": {
        "startLine": 2890,
        "startChar": 0,
        "endLine": 2891,
        "endChar": 38
      },
      "revId": "869a59ff4c07b43c02280a544e1350c8252bfe37",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "67da14cd_d4ff4be7",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4063,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-11-04T21:44:51Z",
      "side": 1,
      "message": "Is vendor the only thing we need to filter out? Is this just that we\u0027ve got a prebuilt and not building it from source, or that we don\u0027t actually have one? Should it be using the BUILDING_*_IMAGE variables instead?",
      "range": {
        "startLine": 4061,
        "startChar": 0,
        "endLine": 4063,
        "endChar": 5
      },
      "revId": "60bfcc4fac131fa32c303e7ece8b1abdc9c68075",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e26457_d1e58220",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4063,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-11-04T21:57:46Z",
      "side": 1,
      "message": "I copied the logic from this code:\n\nhttps://android-review.googlesource.com/c/platform/build/+/1157701/2/core/Makefile#b4424\n\nIt only filters out vendor and depends on INSTALLED_VENDORIMAGE_TARGET.\n\nI think it is correct that it uses INSTALLED_*IMAGE_TARGET. For prebuilt images, it\u0027ll test the size of the prebuilt image instead. \n\nIt also looks like \"vendor\" is the only thing that needs to be filtered out. At least this makes aosp_sargo happy. This is only a hack for AOSP targets.",
      "parentUuid": "67da14cd_d4ff4be7",
      "range": {
        "startLine": 4061,
        "startChar": 0,
        "endLine": 4063,
        "endChar": 5
      },
      "revId": "60bfcc4fac131fa32c303e7ece8b1abdc9c68075",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c6c1ecd_f093a0fa",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4063,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-11-04T22:18:53Z",
      "side": 1,
      "message": "Ah, so you can take a prebuilt. I guess the INSTALLED_*IMAGE_TARGET is probably the only thing we have for PREBUILT || BUILDING.\n\nAOSP targets, depending on the branch/etc, can have anything from full vendor source, to a prebuilt, to not having a vendor image at all. The last case is really only valid if there\u0027s already a vendor image on the device.\n\nI suspect there will eventually be other partitions doing the same thing, but we\u0027re not configuring things like that yet.",
      "parentUuid": "d4e26457_d1e58220",
      "range": {
        "startLine": 4061,
        "startChar": 0,
        "endLine": 4063,
        "endChar": 5
      },
      "revId": "60bfcc4fac131fa32c303e7ece8b1abdc9c68075",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "08b79486_90832931",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:12:43Z",
      "side": 1,
      "message": "Argh, sorry. I had this draft comment that I forgot to send out for *days*.\n\n(next time, do ping me if I don\u0027t reply by the day following your comments! The code review SLO is 24 hours and waiting more than that is an antipattern)",
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2d7150f_7faada52",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:38Z",
      "side": 1,
      "message": "I think the best is to submit this change as it is, then file individual bugs about the rest of the issues. WDYT?",
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c200310_7d707093",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 260,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:01Z",
      "side": 1,
      "message": "Are these identifiers available to the individual Starlark files? Is there a way to constrain them to product_config.rbc so that the \"regular\" product config files only have access to rblf. ?",
      "range": {
        "startLine": 260,
        "startChar": 21,
        "endLine": 260,
        "endChar": 31
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9517264b_251acd86",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 260,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T17:07:32Z",
      "side": 1,
      "message": "Generated .rbc files use only what product_config.rbc exposes.\nLimiting builtin symbols accessibility is achievable (at least in the sense of section 2.(3) of the https://tools.ietf.org/html/rfc1925), but I am not sure why it is necessary.",
      "parentUuid": "2c200310_7d707093",
      "range": {
        "startLine": 260,
        "startChar": 21,
        "endLine": 260,
        "endChar": 31
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb020a5d_de079a33",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 260,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T17:16:14Z",
      "side": 1,
      "message": "It\u0027s much easier to limit it now than clean up any uses of the symbols that creep in while we are not looking. IOW, it\u0027s an insurance policy: by doing a bit of work now you avoid the need to do more work when we\u0027ll eventually make Bazel parse these files.\n\nI\u0027d hate being ready to flip the flag, then realizing that some use of these symbols creeped in somehow and having to spend an unknowable amount of labor to undo that...\n\nIn addition, it limits the \"creativity\" of product configuration files, which is a good thing.\n\nDoes this make sense?",
      "parentUuid": "9517264b_251acd86",
      "range": {
        "startLine": 260,
        "startChar": 21,
        "endLine": 260,
        "endChar": 31
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb0d94c9_a939c9dd",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 260,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T18:13:26Z",
      "side": 1,
      "message": "The Starlark interpreter (at least the one implemented in Go) has no provision to un-define a symbol. I am not sure how this can be achieved other than by wiring the knowledge of the runtime support structure into the runner. \nGiven that at the moment the files are generated on the fly and never checked in, there is no need to resolve this problem now.",
      "parentUuid": "cb020a5d_de079a33",
      "range": {
        "startLine": 260,
        "startChar": 21,
        "endLine": 260,
        "endChar": 31
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97647031_65e8da69",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 262,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:01Z",
      "side": 1,
      "message": "AFAIU this is for product_config.rbc only and not for individual Makefiles, right?",
      "range": {
        "startLine": 262,
        "startChar": 3,
        "endLine": 262,
        "endChar": 11
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b3dadbd_503b0957",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 262,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T17:07:32Z",
      "side": 1,
      "message": "Same as above -- it is nor used in the generated .rbc files, but undefining a symbol is not supported.",
      "parentUuid": "97647031_65e8da69",
      "range": {
        "startLine": 262,
        "startChar": 3,
        "endLine": 262,
        "endChar": 11
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35a58681_d93edb90",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 265,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:01Z",
      "side": 1,
      "message": "What Make pattern does this support? It\u0027s exported from rblf. so I suppose it\u0027s needed in individual Makefiles, too?",
      "range": {
        "startLine": 265,
        "startChar": 3,
        "endLine": 265,
        "endChar": 19
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "462e1ec7_e5dc255d",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 265,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T17:07:32Z",
      "side": 1,
      "message": "Correct.",
      "parentUuid": "35a58681_d93edb90",
      "range": {
        "startLine": 265,
        "startChar": 3,
        "endLine": 265,
        "endChar": 19
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "322e7ec0_3d595963",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 265,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T17:16:14Z",
      "side": 1,
      "message": "For my education, what\u0027s this Make pattern?",
      "parentUuid": "462e1ec7_e5dc255d",
      "range": {
        "startLine": 265,
        "startChar": 3,
        "endLine": 265,
        "endChar": 19
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dba1aad8_504c263a",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 265,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T18:13:26Z",
      "side": 1,
      "message": "There are cases where $(wildcard ...) is used to check that the given file exists, e.g., https://cs.android.com/android/platform/superproject/+/master:device/google/redbull/device-common.mk;drc\u003d7452f30365c5f438e3f878a95f40a3833a197a41;l\u003d984\nwhich is converted to\n  if rblf.file_exists(...):\n\nAdmittedly this function can be folded into rblf_wildcard and the conversion may become \n  if len(rblf.wildcard(...)) \u003d\u003d 0:",
      "parentUuid": "322e7ec0_3d595963",
      "range": {
        "startLine": 265,
        "startChar": 3,
        "endLine": 265,
        "endChar": 19
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed4a89b5_f7f05a60",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 267,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:01Z",
      "side": 1,
      "message": "nit: shouldn\u0027t this be \"rblf_regex?\"",
      "range": {
        "startLine": 267,
        "startChar": 37,
        "endLine": 267,
        "endChar": 47
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbc29c5b_f525b109",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 267,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T17:07:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed4a89b5_f7f05a60",
      "range": {
        "startLine": 267,
        "startChar": 37,
        "endLine": 267,
        "endChar": 47
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5e4bda3_1f5c252f",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 271,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-03-18T08:23:01Z",
      "side": 1,
      "message": "Do individual Makefiles need access to this?",
      "range": {
        "startLine": 271,
        "startChar": 3,
        "endLine": 271,
        "endChar": 16
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9344420_df7d7821",
        "filename": "tools/rbcrun/host.go",
        "patchSetId": 32
      },
      "lineNbr": 271,
      "author": {
        "id": 1344584
      },
      "writtenOn": "2021-03-18T17:07:32Z",
      "side": 1,
      "message": "Yes, I have added a comment about this right above according to your previous suggestion.",
      "parentUuid": "d5e4bda3_1f5c252f",
      "range": {
        "startLine": 271,
        "startChar": 3,
        "endLine": 271,
        "endChar": 16
      },
      "revId": "e5e5a835b34a875bb7d549616e3701a44303e59b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
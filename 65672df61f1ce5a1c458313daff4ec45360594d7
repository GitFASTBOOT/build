{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "abca7c5e_f868b2d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1294681
      },
      "writtenOn": "2021-12-13T22:03:29Z",
      "side": 1,
      "message": "Sorry for the delay, the updates look good to me.",
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5118ff2c_f35aaa54",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1112425
      },
      "writtenOn": "2021-11-23T22:01:08Z",
      "side": 1,
      "message": "isn\u0027t the best practice to keep sensitive info in Java as bytes array (since it won\u0027t be visible in case of a memory dump)?\n\njust checking here, I\u0027m sure  you know more in that field",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8dee34c0_8baa6b2e",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1896816
      },
      "writtenOn": "2021-11-23T22:16:42Z",
      "side": 1,
      "message": "I think the preview code missed a null check, that\u0027s what this line is about.\n\nI\u0027m not sure about the specific workflow that may cause the password to leak this way though. Please let me know if you have a more specific example.\n\nMy feeling is the security boundary shouldn\u0027t be affected by the type of the variable. If there\u0027s a way to see strings in a certain scenario, there should be ways to see other types as well. And, if someone is able to dump the strings out of memory of SignApk, simply change the type here likely won\u0027t provide any extra protection. (As the String variable does also exist in memory, when returned from readPassword.",
      "parentUuid": "5118ff2c_f35aaa54",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40724dcf_ebcf9470",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1112425
      },
      "writtenOn": "2021-11-23T22:24:26Z",
      "side": 1,
      "message": "Sure, my thought are better described in the answers to https://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords, basically:\n\n - password in the plain text may appear in the memory dump \n - it increases the chances of accidental logging \n \nHowever, I don\u0027t know if any of that is a real concern, but when I saw that something named \"password\" is kept as \"String\" I felt I should at least bring this discussion.",
      "parentUuid": "8dee34c0_8baa6b2e",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17a83ee9_6a21650e",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1896816
      },
      "writtenOn": "2021-11-23T22:55:52Z",
      "side": 1,
      "message": "I see, thank for explaining this to me.\n\nTotally agree that readPassword should not return a String, it should return byte[] instead, which is more conventional for password handling. However, the immutable copy was made on Line 224, when String.valueOf was called, and it seems to be to support input password from stdin and file through the same function interface. In the memdump scenario, the variable on this line shouldn\u0027t affect memory dump as long as line 224 exist. It may worth a different diff to change the signature of that function though. \n\nFor the null check added here and line 254, I agree with you, it probably increased the possibility of accidental logging if widely used, but since it\u0027s only used once here, it\u0027s probably not a real concern for now. And the proper way to fix is should probably be changing the signature of readPassword as well. (And this line will be done when that is fixed as well)",
      "parentUuid": "40724dcf_ebcf9470",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0355e49_027e2497",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1112425
      },
      "writtenOn": "2021-11-23T23:28:37Z",
      "side": 1,
      "message": "Sure, thanks for the context.",
      "parentUuid": "17a83ee9_6a21650e",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6085401f_8cf0c38b",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1896816
      },
      "writtenOn": "2021-11-23T23:33:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0355e49_027e2497",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "062759dd_dc59044e",
        "filename": "tools/signapk/src/com/android/signapk/SignApk.java",
        "patchSetId": 2
      },
      "lineNbr": 250,
      "author": {
        "id": 1896816
      },
      "writtenOn": "2021-11-23T23:54:18Z",
      "side": 1,
      "message": "I\u0027ve put up https://android-review.googlesource.com/c/platform/build/+/1900893/2 for this",
      "parentUuid": "6085401f_8cf0c38b",
      "range": {
        "startLine": 250,
        "startChar": 14,
        "endLine": 250,
        "endChar": 20
      },
      "revId": "65672df61f1ce5a1c458313daff4ec45360594d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
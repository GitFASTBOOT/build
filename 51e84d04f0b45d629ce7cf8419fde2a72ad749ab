{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "381e9dc8_e651c7b7",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1061057
      },
      "writtenOn": "2021-09-23T08:52:43Z",
      "side": 1,
      "message": "Any concern on changing the default name to \"boot-with-debug-ramdisk\"?",
      "range": {
        "startLine": 2358,
        "startChar": 38,
        "endLine": 2358,
        "endChar": 48
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "063fdcf8_b2af935d",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-09-23T08:54:47Z",
      "side": 1,
      "message": "that would break (at least) Flashstation\u0027s force_debuggable option. It looks for file names of boot-debug.img or vendor_boot-debug.img",
      "parentUuid": "381e9dc8_e651c7b7",
      "range": {
        "startLine": 2358,
        "startChar": 38,
        "endLine": 2358,
        "endChar": 48
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8fd3c415_9ef9b004",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-09-23T09:03:26Z",
      "side": 1,
      "message": "The current confusion is from GKI/GSI targets, when partners tries to search a GKI boot.img from \"gsi_arm64\".\n\nThe naming should have no confusion in other device targets.\n\nThat\u0027s why I\u0027d like to limit the change only to GSI targets, as boot-debug.img already have some users, e.g., like Yi-yo mentioned, FlashStation, EngProd\u0027s test automation.",
      "parentUuid": "063fdcf8_b2af935d",
      "range": {
        "startLine": 2358,
        "startChar": 38,
        "endLine": 2358,
        "endChar": 48
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aae319cc_1d51b960",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-09-23T09:06:07Z",
      "side": 1,
      "message": "how about make this a PRODUCT_ var instead (PRODUCT_OVERRIDE_DEBUG_BOOT_IMAGE_NAME), and we can set this only one time in gsi_release.mk",
      "range": {
        "startLine": 2358,
        "startChar": 0,
        "endLine": 2358,
        "endChar": 34
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0b15120_f11f8ca7",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-09-23T09:07:18Z",
      "side": 1,
      "message": "Also, in the future, there might be completely no boot-debug-*.img in GSI targets.\n\nGiven:\n\n + https://android-review.googlesource.com/q/topic:gsi_debug_policy\n + b/197262350\n \n so I think this is just a transient solution for the current GSI/GKI target (i.e., gsi_arm64).\n \n Does that make sense?",
      "parentUuid": "8fd3c415_9ef9b004",
      "range": {
        "startLine": 2358,
        "startChar": 38,
        "endLine": 2358,
        "endChar": 48
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89382772_21cea39e",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1061057
      },
      "writtenOn": "2021-09-23T09:16:28Z",
      "side": 1,
      "message": "Agree that it\u0027s only temporary and we will remove it later.\nIn that case, we also need to include 32bit GSIs so maybe PRODUCT_* is easier to config as Yiyo mentioned.",
      "parentUuid": "d0b15120_f11f8ca7",
      "range": {
        "startLine": 2358,
        "startChar": 38,
        "endLine": 2358,
        "endChar": 48
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c57eeb2_14a41cb4",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-09-23T09:18:37Z",
      "side": 1,
      "message": "I do this to align with the following targets that have GKI boot.img:\nhttps://cs.android.com/search?q\u003dBOARD_KERNEL-\u0026sq\u003d\n\ngsi_release.mk is referenced by more targets. \n\ne.g., some of them are under vendor/* ...\nhttps://source.corp.google.com/search?q\u003dgsi_release.mk\u0026sq\u003dp:%5EAndroid$\u0026start\u003d1\n\nI\u0027m not sure if they have boot-debug-*.img or not and I don\u0027t want to rename them by accident.\n\nThought?",
      "parentUuid": "aae319cc_1d51b960",
      "range": {
        "startLine": 2358,
        "startChar": 0,
        "endLine": 2358,
        "endChar": 34
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed4a1543_163e894c",
        "filename": "core/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 2358,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-09-23T12:23:32Z",
      "side": 1,
      "message": "Per offline discussion, gsi_release.mk should only be used for GSI targets.\n\nWe can unset it for other targets if needed.\n\nSo I took the gsi_release.mk approach.",
      "parentUuid": "7c57eeb2_14a41cb4",
      "range": {
        "startLine": 2358,
        "startChar": 0,
        "endLine": 2358,
        "endChar": 34
      },
      "revId": "51e84d04f0b45d629ce7cf8419fde2a72ad749ab",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
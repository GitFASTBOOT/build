{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e7d04eb0_9b94347e",
        "filename": "core/main.mk",
        "patchSetId": 4
      },
      "lineNbr": 1255,
      "author": {
        "id": 1535516
      },
      "writtenOn": "2023-04-10T21:48:15Z",
      "side": 1,
      "message": "We shouldn\u0027t have this, it would be better if we could express this by only adding to PRODUCT_PACKAGES on arm64 products. I see you want to do it globally though which makes it harder, as we don\u0027t have a `base_system_arm64.mk` file. \n\nIf creating a `base_system_arm64.mk` is too difficult, could we try disabling the modules in soong if they\u0027re not on arm64? I think you could do this easily for libclangrt, but I\u0027m not sure if there\u0027s a way to express that only the hwasan variant of libc should be disabled.",
      "revId": "a77dc8e0923859d04c2b433047c1ef20679c4c63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "912d50ba_e3801006",
        "filename": "core/main.mk",
        "patchSetId": 4
      },
      "lineNbr": 1255,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-10T21:52:21Z",
      "side": 1,
      "message": "I did that before: just always include in the base_system.mk, and disable on the Soong level (which I still do). That works, but then a presubmit fails with \"unknown package\" on non-arm64. Hence, I did this.",
      "parentUuid": "e7d04eb0_9b94347e",
      "revId": "a77dc8e0923859d04c2b433047c1ef20679c4c63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f983c04_358596ce",
        "filename": "core/main.mk",
        "patchSetId": 4
      },
      "lineNbr": 1255,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-10T22:09:28Z",
      "side": 1,
      "message": "I also tried PRODUCT_ENFORCE_PACKAGES_EXIST_ALLOW_LIST back then, but product files do not seem to be allowed to set that: https://cs.android.com/android/platform/superproject/+/master:build/make/core/product.mk;l\u003d525;drc\u003d2b2f6685abf7ec082d54071f8478885620efab07",
      "parentUuid": "912d50ba_e3801006",
      "revId": "a77dc8e0923859d04c2b433047c1ef20679c4c63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
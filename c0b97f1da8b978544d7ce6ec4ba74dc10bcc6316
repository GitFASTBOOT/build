{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a019e7bd_ee192f61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-12-09T04:59:21Z",
      "side": 1,
      "message": "Adding Tianjie for reviewing releasetool changes.",
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "359c9b12_e320bed5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-09T16:27:38Z",
      "side": 1,
      "message": "+smuckle for some more image building expertise and +xunchang for releasetools review.\nThank you for taking a look!",
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7d1f81d_10a6e9f5",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 914,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "please also indent these nested if-blocks",
      "range": {
        "startLine": 913,
        "startChar": 0,
        "endLine": 914,
        "endChar": 6
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55ece139_d91d271b",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 914,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "nit (no action needed): this could be just \"ifdef BUILDING_INIT_BOOT_IMAGE\" / \"ifndef BUILDING_INIT_BOOT_IMAGE\", but I could see both styles (ifeq vs. ifdef) in this file, so probably a matter of taste.",
      "range": {
        "startLine": 914,
        "startChar": 0,
        "endLine": 914,
        "endChar": 40
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6160f19_392e6958",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 914,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7d1f81d_10a6e9f5",
      "range": {
        "startLine": 913,
        "startChar": 0,
        "endLine": 914,
        "endChar": 6
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be8f6b86_d3028de3",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 914,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "I\u0027ve been trying to stick to whatever is nearby for these patterns. It is a bit confusing to see them seemingly picked at random. I\u0027ll leave this one as is to stick with the existing pattern of L913.",
      "parentUuid": "55ece139_d91d271b",
      "range": {
        "startLine": 914,
        "startChar": 0,
        "endLine": 914,
        "endChar": 40
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fd923d9_2e48216a",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 962,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "I just realized the SPL value in the boot.img header is PLATFORM_SECURITY_PATCH, but the SPL value in the vbmeta of boot.img is BOOT_SECURITY_PATCH (https://cs.android.com/android/platform/superproject/+/master:build/make/core/Makefile;l\u003d3626).\n\nI don\u0027t think this difference is intended. Should we update this to use BOOT_SECURITY_PATCH? We should also sort this out in the email thread... @bowgotsai",
      "range": {
        "startLine": 962,
        "startChar": 4,
        "endLine": 962,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b8b3e13_fc9c6893",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 962,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-12-10T11:04:40Z",
      "side": 1,
      "message": "--os_patch_level predates BOOT_SECURITY_PATCH.\n\nAnd I\u0027m not sure if all devices actually defines BOOT_SECURITY_PATCH.\n\nWe can probably change this to --os_patch_level $(BOOT_SECURITY_PATCH) but will have to set the default value of BOOT_SECURITY_PATCH to $(PLATFORM_SECURITY_PATCH) if it\u0027s not defined.",
      "parentUuid": "5fd923d9_2e48216a",
      "range": {
        "startLine": 962,
        "startChar": 4,
        "endLine": 962,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cd2bb04_c8cd2fdb",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 962,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T11:25:56Z",
      "side": 1,
      "message": "yeah use BOOT_SECURITY_PATCH for --os_patch_level if defined and fallback to PLATFORM_SECURITY_PATCH sgtm",
      "parentUuid": "2b8b3e13_fc9c6893",
      "range": {
        "startLine": 962,
        "startChar": 4,
        "endLine": 962,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e40cc9f_7b28f57b",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 962,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T11:30:54Z",
      "side": 1,
      "message": "oh wait, maybe the current code is correct then? because BOOT_SECURITY_PATCH is not always defined like you said, so it\u0027s reasonable to just use the platform_security_patch here. and BOOT_SECURITY_PATCH is only used for vbmeta signing",
      "parentUuid": "3cd2bb04_c8cd2fdb",
      "range": {
        "startLine": 962,
        "startChar": 4,
        "endLine": 962,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fdb0a149_b68b4643",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 962,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-12-10T14:58:50Z",
      "side": 1,
      "message": "Right, I was thinking about the same thing: this should be a device-specific setting.\n\nIf a device needs \"com.android.build.boot.security_patch\", then the OEM could define BOOT_SECURITY_PATCH. But it could also leave it as empty, depends on whether their bootloader expects \"com.android.build.boot.security_patch\" exists or not.",
      "parentUuid": "2e40cc9f_7b28f57b",
      "range": {
        "startLine": 962,
        "startChar": 4,
        "endLine": 962,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12100b89_1fe1e1dc",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 1117,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "missing INTERNAL_MKBOOTIMG_VERSION_ARGS (like L1107)?",
      "range": {
        "startLine": 1117,
        "startChar": 46,
        "endLine": 1117,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "faa3ae8e_42412fab",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 1117,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "12100b89_1fe1e1dc",
      "range": {
        "startLine": 1117,
        "startChar": 46,
        "endLine": 1117,
        "endChar": 47
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3e948dc_2cf0e95b",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 1121,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "we also need?\n\nelse ifdef BOARD_PREBUILT_INIT_BOOT_IMAGE\n   $(INSTALLED_INIT_BOOT_IMAGE_TARGET): $(BOARD_PREBUILT_INIT_BOOT_IMAGE)\n   cp $(BOARD_PREBUILT_INIT_BOOT_IMAGE) $(INSTALLED_INIT_BOOT_IMAGE_TARGET)\nendif",
      "range": {
        "startLine": 1121,
        "startChar": 31,
        "endLine": 1121,
        "endChar": 32
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aca6f77d_cb4f6d6c",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 1121,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-12-10T15:09:40Z",
      "side": 1,
      "message": "Yup, I also mentioned this in the e-mail thread, with an example: https://r.android.com/1711437/\n\nAnd I thought this will be done as a separate CL (so it\u0027s easier for us to review a smaller CL here).",
      "parentUuid": "d3e948dc_2cf0e95b",
      "range": {
        "startLine": 1121,
        "startChar": 31,
        "endLine": 1121,
        "endChar": 32
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b045bd70_81d1a9dc",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 1121,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "A different CL sounds good after this one lands/sticks.\nI feel like this topic is likely to get reverted for some build/test that isn\u0027t in presubmits, so the fewer changes the better :)",
      "parentUuid": "aca6f77d_cb4f6d6c",
      "range": {
        "startLine": 1121,
        "startChar": 31,
        "endLine": 1121,
        "endChar": 32
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "320d1397_8fb9dc11",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4553,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "this seems unused?",
      "range": {
        "startLine": 4553,
        "startChar": 1,
        "endLine": 4553,
        "endChar": 65
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a879179_f8bf2b73",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4553,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "It is! It doesn\u0027t benefit from being configurable. Removed.",
      "parentUuid": "320d1397_8fb9dc11",
      "range": {
        "startLine": 4553,
        "startChar": 1,
        "endLine": 4553,
        "endChar": 65
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2d16a75_3e59beef",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4936,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "why is this added here? I thought BOARD_USES_RECOVERY_AS_BOOT and BUILDING_INIT_BOOT_IMAGE are mutually exclusive?",
      "range": {
        "startLine": 4936,
        "startChar": 64,
        "endLine": 4936,
        "endChar": 100
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bef61ed_c465e024",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4936,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2021-12-10T15:09:40Z",
      "side": 1,
      "message": "Good catch.\n\nRight, if a device uses init_boot.img, then it should be a GKI device.\n\nThus, the device might set BOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT but will not set BOARD_USES_RECOVERY_AS_BOOT because the /boot partition is generic.",
      "parentUuid": "b2d16a75_3e59beef",
      "range": {
        "startLine": 4936,
        "startChar": 64,
        "endLine": 4936,
        "endChar": 100
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ac2b13f_a7a3ea7a",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4936,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "Good point. Removed.",
      "parentUuid": "2bef61ed_c465e024",
      "range": {
        "startLine": 4936,
        "startChar": 64,
        "endLine": 4936,
        "endChar": 100
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ca83048_5dec2fbf",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4973,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-12-10T10:05:37Z",
      "side": 1,
      "message": "and why isn\u0027t this INSTALLED_INIT_BOOT_IMAGE_TARGET ?",
      "range": {
        "startLine": 4973,
        "startChar": 35,
        "endLine": 4973,
        "endChar": 57
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e42ea10_a5d9169c",
        "filename": "core/Makefile",
        "patchSetId": 11
      },
      "lineNbr": 4973,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-12-10T18:46:53Z",
      "side": 1,
      "message": "It\u0027s the same as the BUIDLING_BOOT_IMAGE case on L4965, I figured the ramdisk files were also needed in this case..\nShould this include both INTERNAL_RAMDISK_FILES and INSTALLED_INIT_BOOT_IMAGE_TARGET, or should it only be INSTALLED_INIT_BOOT_IMAGE_TARGET?",
      "parentUuid": "6ca83048_5dec2fbf",
      "range": {
        "startLine": 4973,
        "startChar": 35,
        "endLine": 4973,
        "endChar": 57
      },
      "revId": "c0b97f1da8b978544d7ce6ec4ba74dc10bcc6316",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
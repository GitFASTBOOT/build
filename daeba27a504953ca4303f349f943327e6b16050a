{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3d57c27a_88478ef9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-01-12T19:18:52Z",
      "side": 1,
      "message": "Why should we care about getting partition props for boot image before Android 11? Setting the build fingerprint is needed for GKI updates, which does not exist for Android 11.",
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afcd8295_8d4d5771",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2021-01-12T19:22:56Z",
      "side": 1,
      "message": "I believe today the UpdateDeviceState() function just aborts when handling S+R merged builds. And we should force the existence of bootimage properties if GKI is used (via some property check)",
      "parentUuid": "3d57c27a_88478ef9",
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20e037f0_550c0af8",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 1
      },
      "lineNbr": 3682,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-01-12T19:22:27Z",
      "side": 1,
      "message": "I think a more correct change fix would be to just add `return None` in this case and be done with it, instead of reading default.prop.",
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d8569d2_32f913e9",
        "filename": "tools/releasetools/ota_utils.py",
        "patchSetId": 1
      },
      "lineNbr": 190,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2021-01-12T06:22:48Z",
      "side": 1,
      "message": "hmm, I guess it\u0027s aborted intentionally; as the per-partition information might be needed in ota metadata (for ota targeting)",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 190,
        "endChar": 10
      },
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0f388a3_a20f6ff3",
        "filename": "tools/releasetools/ota_utils.py",
        "patchSetId": 1
      },
      "lineNbr": 190,
      "author": {
        "id": 1455782
      },
      "writtenOn": "2021-01-12T16:40:44Z",
      "side": 1,
      "message": "This was needed because the R boot image does not include ro.product.bootimage.device. I suppose this hints at a broader question: is using a boot image from S a requirement for S-upgrading or S+R launch devices?\n\nIf so, then this entire change is moot and should be fixed by instead requiring the partners use boot from S.",
      "parentUuid": "6d8569d2_32f913e9",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 190,
        "endChar": 10
      },
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0661e813_1b48be11",
        "filename": "tools/releasetools/ota_utils.py",
        "patchSetId": 1
      },
      "lineNbr": 190,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2021-01-12T19:03:30Z",
      "side": 1,
      "message": "hmm, I guess it\u0027s only needed for devices with GKI, so maybe it\u0027s acceptable. elsk@ can you comment on that?\n\nI am surprised that the R boot image does not include ro.product.bootimage.device. Oh, it does have a `ro.bootimage.build.fingerprint\u003dgoogle/redfin/redfin:11/RVF1.201221.001/7045327:userdebug/dev-keys`, so technically we can extract the device name as \u0027redfin\u0027. \n\nMaybe we can enforce the setting of partition props if GKI is used, and loose the other conditions?",
      "parentUuid": "d0f388a3_a20f6ff3",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 190,
        "endChar": 10
      },
      "revId": "daeba27a504953ca4303f349f943327e6b16050a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
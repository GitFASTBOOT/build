{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c8a1ce5a_68c64030",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 6696,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-09T21:32:52Z",
      "side": 1,
      "message": "Kelvin, if I follow your suggestion, I think we need to add a step here to replace some values to relative paths and then LoadInfoDict() (at L845) replaces them again.\n\n\n```\n  $(hide) $(new_script_to_replace_paths) $(INSTALLED_MISC_INFO_TARGET) $(zip_root)/META/misc_info.txt\n```\n\nnew_script_to_replace_paths:\n```\nd \u003d LoadDict(input)\n\nif \"erofs_default_compress_hints\" in d:\n  d[\"erofs_default_compress_hints\"] \u003d \"META/erofs_default_compress_hints.txt\"\n... do similar for other erofs props here\n\nSaveDict(d, output)\n```\n\ntools/releasetools/common.py:\n```\ndef LoadInfoDict(input_file, repacking\u003dFalse):\n  ...\n  if repacking:\n    ...\n    for prop in [\"erofs_default_compress_hints\", ...other erofs props here]:\n      if prop in d:\n        d[prop] \u003d os.path.join(input_file, d[prop])\n      ..\n```",
      "range": {
        "startLine": 6696,
        "startChar": 0,
        "endLine": 6696,
        "endChar": 72
      },
      "revId": "67911682c2eed89bf5d14a3017b89427fb3b3e06",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "111a91d9_1792e9a8",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 6696,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2024-08-12T16:51:59Z",
      "side": 1,
      "message": "I was referring to \n\nhttps://cs.android.com/android/platform/superproject/main/+/main:build/make/core/Makefile;l\u003d2295?q\u003dINSTALLED_MISC_INFO_TARGET\n\nBut I think you are right about the comment on LoadInfoDict() . Thanks for digging this up!",
      "parentUuid": "c8a1ce5a_68c64030",
      "range": {
        "startLine": 6696,
        "startChar": 0,
        "endLine": 6696,
        "endChar": 72
      },
      "revId": "67911682c2eed89bf5d14a3017b89427fb3b3e06",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f1d5ce7_06be336b",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 6696,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-13T01:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "111a91d9_1792e9a8",
      "range": {
        "startLine": 6696,
        "startChar": 0,
        "endLine": 6696,
        "endChar": 72
      },
      "revId": "67911682c2eed89bf5d14a3017b89427fb3b3e06",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e4e8d3d_cf138439",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 859,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-09T21:32:52Z",
      "side": 1,
      "message": "Hey Kelvin, I think this explains how we interpret values in META/misc_info.txt.",
      "range": {
        "startLine": 855,
        "startChar": 0,
        "endLine": 859,
        "endChar": 21
      },
      "revId": "67911682c2eed89bf5d14a3017b89427fb3b3e06",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb21d6a8_e2691948",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 2
      },
      "lineNbr": 859,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-13T01:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e4e8d3d_cf138439",
      "range": {
        "startLine": 855,
        "startChar": 0,
        "endLine": 859,
        "endChar": 21
      },
      "revId": "67911682c2eed89bf5d14a3017b89427fb3b3e06",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "45e98b6d_caf2f045",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-08-15T16:36:48Z",
      "side": 1,
      "message": "No. For normal devices, the included misc_info.txt matches the dist\u0027d super.img, which are both based on the images in target_files.zip.\n\nOnly for the ones that define BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT (i.e. emulators), the built and dist\u0027d super.img is based on the images under PRODUCT_OUT.\n\nIt seems you only want this \"misc_info.txt\" for emulator based builds, but not real devices? If so,\n- can you please remove misc_info.txt from the image archive for real devices? The archive is supposed to be used for flashing purpose. It\u0027s not a container to pack intermediate files.\n- dist \"misc_info.txt\" as a separate artifact, and ideally with a better name, such as super_misc_info.txt to avoid confusion.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 63
      },
      "revId": "680e5f8a72935a4138babbdbd977ccc4cffc23c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09f50833_d1a2e806",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1139803
      },
      "writtenOn": "2019-08-16T07:23:45Z",
      "side": 1,
      "message": "Please take a look at PS3 and see if it\u0027s what you meant.",
      "parentUuid": "45e98b6d_caf2f045",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 63
      },
      "revId": "680e5f8a72935a4138babbdbd977ccc4cffc23c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dec8256_329edd3e",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 4656,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-08-15T21:38:40Z",
      "side": 1,
      "message": "This mess comes from an early change in https://android-review.googlesource.com/c/platform/build/+/976069/6/core/Makefile, where the dependency wasn\u0027t declared properly.\n\nFor example, when a target defines BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT \u003d\u003d true but without BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT \u003d\u003d true, it will hit build time error at L4677. Because INTERNAL_SUPERIMAGE_MISC_INFO is non-empty (from L4542), but there\u0027s no building rule to generate that file.\n\nPlease fix those issues before introducing more hacks.",
      "range": {
        "startLine": 4650,
        "startChar": 0,
        "endLine": 4656,
        "endChar": 5
      },
      "revId": "680e5f8a72935a4138babbdbd977ccc4cffc23c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abe85d4a_8b82f30f",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 4656,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-08-15T21:40:11Z",
      "side": 1,
      "message": "Correction: The problematic case is when a target defines BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE \u003d\u003d true but without BOARD_BUILD_SUPER_IMAGE_BY_DEFAULT \u003d\u003d true.",
      "parentUuid": "3dec8256_329edd3e",
      "range": {
        "startLine": 4650,
        "startChar": 0,
        "endLine": 4656,
        "endChar": 5
      },
      "revId": "680e5f8a72935a4138babbdbd977ccc4cffc23c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cbcc3c9_45189103",
        "filename": "core/Makefile",
        "patchSetId": 2
      },
      "lineNbr": 4656,
      "author": {
        "id": 1139803
      },
      "writtenOn": "2019-08-16T07:23:45Z",
      "side": 1,
      "message": "I believe the error occurred in L4684 (the else part of BOARD_SUPER_IMAGE_IN_UPDATE_PACKAGE) for other reason, but anyway PS3 removes misc_info.txt from the update package.",
      "parentUuid": "abe85d4a_8b82f30f",
      "range": {
        "startLine": 4650,
        "startChar": 0,
        "endLine": 4656,
        "endChar": 5
      },
      "revId": "680e5f8a72935a4138babbdbd977ccc4cffc23c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
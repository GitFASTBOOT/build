{
  "comments": [
    {
      "key": {
        "uuid": "9adacf31_dfdbbb9f",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 989,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-11-13T03:18:21Z",
      "side": 1,
      "message": "For tapas, we should get the device name from the build system:\n DEVICE\u003d$(get_build_var TARGET_DEVICE)\nYou can test env variable TARGET_BUILD_APPS to see if it\u0027s tapas build, see the function tapas() in this same file.",
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9e076c_f45a563b",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 989,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T22:39:37Z",
      "side": 1,
      "message": "for tapas we copy exe file and linker(64)? from device to appropriate local folder.",
      "parentUuid": "9adacf31_dfdbbb9f",
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9adacf31_7fd62f85",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1009,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-11-13T03:18:21Z",
      "side": 1,
      "message": "This isn\u0027t correct. For tapas $DEVICE may be generic, generic_x86, generic_mips etc.",
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9e076c_54c5e268",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1009,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T22:39:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9adacf31_7fd62f85",
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af89f89_312cc88c",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2014-11-13T00:31:12Z",
      "side": 1,
      "message": "This error will still be hit on a tapas build. A tapas build doesn\u0027t have the target/product/mako (or similar) folder at all, just product/generic.\n\nI think you want the check above to be something like\nif [[ ! -d \"${SYMBOLS_DIR}\" || ! -d \"${TAPAS_SYMBOLS_DIR}\" ]]; then",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7af19ba1_572ea6bb",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T00:42:27Z",
      "side": 1,
      "message": "not really - we need access to executable to run gdb and to detect lp64. old one needed it too.\n\nSo for tapas you will need symbols from the build server or adb pull app_process32/64 workaround but with different path..",
      "parentUuid": "1af89f89_312cc88c",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3afba387_f286c039",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2014-11-13T00:58:00Z",
      "side": 1,
      "message": "I am pretty sure the old one was looking for app_process in the right place (I think it was looking into ANDROID_PRODUCT_OUT rather than hardcoding product/$DEVICE).",
      "parentUuid": "7af19ba1_572ea6bb",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3afba387_f25d2036",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T01:01:36Z",
      "side": 1,
      "message": "It wasn\u0027t tapas do not build app_process, so there is no correct location for it.. on the other hand - if you download symbols for your device/build, it has app_process32/64 at the right place. so you wont need to do cp -r out/target/product/hammerhead/symbols out/target/product/generic/",
      "parentUuid": "3afba387_f286c039",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af89f89_b418a667",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1040443
      },
      "writtenOn": "2014-11-13T01:09:40Z",
      "side": 1,
      "message": "To be honest it would be nice if could \"just work\" (TM) without doing hacks.\nAt this point the best solution, IMHO, seems to be:\nif symbols_dir is not set, adb pull the exe from the device.\nIn most of the cases folks want to debug Java apps, nor native binaries, which means that the exe will be app_process32/64 and we don\u0027t care about the debug symbols for that, we just need to make gdb happy.",
      "parentUuid": "3afba387_f25d2036",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af89f89_54fd027b",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T01:14:43Z",
      "side": 1,
      "message": "good idea, but sometimes symbol_dir is not set because my ANDROID_SERIAL is pointing to incorrect device (or I did not build symbols), we need somehow to detect if it is tapas user and doesn\u0027t care about app_process symbols or it is lunch user who cares (in most cases)...",
      "parentUuid": "1af89f89_b418a667",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9e076c_74cae67b",
        "filename": "envsetup.sh",
        "patchSetId": 1
      },
      "lineNbr": 1012,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2014-11-13T22:39:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af89f89_54fd027b",
      "range": {
        "startLine": 1012,
        "startChar": 4,
        "endLine": 1012,
        "endChar": 8
      },
      "revId": "0c33033cb967b9f381ab95b028cdc9009472bc3a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
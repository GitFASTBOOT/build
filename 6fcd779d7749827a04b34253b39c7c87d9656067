{
  "comments": [
    {
      "key": {
        "uuid": "1c113728_e5ad3eb0",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 203,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "RangeSet()",
      "range": {
        "startLine": 203,
        "startChar": 28,
        "endLine": 203,
        "endChar": 30
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71902e09_a1154f9f",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 203,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "I copied this from DataImage; that needs to be fixed too",
      "parentUuid": "1c113728_e5ad3eb0",
      "range": {
        "startLine": 203,
        "startChar": 28,
        "endLine": 203,
        "endChar": 30
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24505f8f_67650c73",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 203,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:40:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71902e09_a1154f9f",
      "range": {
        "startLine": 203,
        "startChar": 28,
        "endLine": 203,
        "endChar": 30
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a791356d_ad51679b",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 225,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: {} to be more pythonic",
      "range": {
        "startLine": 225,
        "startChar": 20,
        "endLine": 225,
        "endChar": 26
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd9ae9d1_652e8bee",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 225,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Same; copied from DataImage()",
      "parentUuid": "a791356d_ad51679b",
      "range": {
        "startLine": 225,
        "startChar": 20,
        "endLine": 225,
        "endChar": 26
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c64052e_5e031ee8",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 225,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:40:24Z",
      "side": 1,
      "message": "I fixed this one.",
      "parentUuid": "dd9ae9d1_652e8bee",
      "range": {
        "startLine": 225,
        "startChar": 20,
        "endLine": 225,
        "endChar": 26
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1cf382c6_4be3031e",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 831,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: an",
      "range": {
        "startLine": 831,
        "startChar": 13,
        "endLine": 831,
        "endChar": 14
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2a7866f_a1941c0f",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 831,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1cf382c6_4be3031e",
      "range": {
        "startLine": 831,
        "startChar": 13,
        "endLine": 831,
        "endChar": 14
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4db22d6d_422fac58",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 837,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: format",
      "range": {
        "startLine": 833,
        "startChar": 2,
        "endLine": 837,
        "endChar": 79
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f1d123f_fff634ff",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 837,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4db22d6d_422fac58",
      "range": {
        "startLine": 833,
        "startChar": 2,
        "endLine": 837,
        "endChar": 79
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0449084c_4aeaccde",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "We should remove this assert (or update the list to include product/odm/product_services)\n\nI also checked the reason of not hitting this assertion error for cuttlefish CLs. Seems we\u0027re importing and using blockimgdiff.FileImage() directly. I think we should use common.GetUserImage() in device-specific script:\nhttps://android-review.googlesource.com/c/device/google/cuttlefish/+/836180/19/shared/releasetools.py#30",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3240646_0e948f4f",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:05:05Z",
      "side": 1,
      "message": "Should I remove L910 as well?",
      "parentUuid": "0449084c_4aeaccde",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c6ee65e_57bcca46",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-11T00:00:08Z",
      "side": 1,
      "message": "When I try to replace those calls with GetUserImage, I don\u0027t know what to fill in for \"tmpdir\", \"allow_shared_blocks\". Should I just:\n- tmpdir argument is optional. If missing, unzip input_zip\n- allow_shared_blocks defaults to None. When it is none, it is loaded from info_dict (which is OPTIONS.info_dict by default)\n\n?",
      "parentUuid": "b3240646_0e948f4f",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2780e1e_1db29f15",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-11T00:01:46Z",
      "side": 1,
      "message": "Also, info_dict should be loaded from input_zip by default, not from OPTIONS",
      "parentUuid": "4c6ee65e_57bcca46",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d4bc51c_05aa6c11",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-11T00:32:59Z",
      "side": 1,
      "message": "You mean calling from device-specific releasetools, right? The `info` parameter passed to FullOTA_GetBlockDifferences already has those fields, including input_zip and input_tmp:\nhttps://android-review.googlesource.com/c/platform/build/+/940360/9/tools/releasetools/ota_from_target_files.py#811\n\n(Also see the info.input_zip here: https://android-review.googlesource.com/c/device/google/cuttlefish/+/836180/19/shared/releasetools.py#34. I think we don\u0027t even need to unzip there.)\n\nThe allow_shared_blocks part sgtm",
      "parentUuid": "a2780e1e_1db29f15",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe082740_a4ef4e95",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-11T00:54:58Z",
      "side": 1,
      "message": "Got it; it is not documented in https://source.android.com/preview/devices/tech/ota/nonab/device_code#python-module though.\n\nAlso, it looks like https://android-review.googlesource.com/c/platform/build/+/940360/9/tools/releasetools/ota_from_target_files.py#1491 doesn\u0027t have target_info_dict? Should I add source_info and target_info there?",
      "parentUuid": "7d4bc51c_05aa6c11",
      "range": {
        "startLine": 879,
        "startChar": 2,
        "endLine": 879,
        "endChar": 38
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d44081a5_0d3d0285",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 888,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: align the indentation for args (\"path\" and \"hashtree_info\")",
      "range": {
        "startLine": 887,
        "startChar": 32,
        "endLine": 888,
        "endChar": 53
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1090d3b4_d24b3f5d",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 888,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d44081a5_0d3d0285",
      "range": {
        "startLine": 887,
        "startChar": 32,
        "endLine": 888,
        "endChar": 53
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59865625_320fdb1b",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 2136,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "The current pattern is to import common alone from device-specific scripts. We can do the same for EmptyImage, since I\u0027m seeing a reference at https://android-review.googlesource.com/c/device/google/cuttlefish/+/836180/19/shared/releasetools.py#20.",
      "range": {
        "startLine": 2136,
        "startChar": 0,
        "endLine": 2136,
        "endChar": 9
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74936b3d_9daaac8d",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 2136,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:07:55Z",
      "side": 1,
      "message": "Sure; although, this particular line is causing circular dependencies, so I\u0027ll always need to remember that \"import blockimgdiff\" must come after \"import common\". Do you know a way to alleviate this issue, and make it possible to \"import blockimgdiff\" before \"import common\"?",
      "parentUuid": "59865625_320fdb1b",
      "range": {
        "startLine": 2136,
        "startChar": 0,
        "endLine": 2136,
        "endChar": 9
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d771bbd4_0b041250",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 9
      },
      "lineNbr": 2136,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74936b3d_9daaac8d",
      "range": {
        "startLine": 2136,
        "startChar": 0,
        "endLine": 2136,
        "endChar": 9
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d728413_87827124",
        "filename": "tools/releasetools/ota_from_target_files.py",
        "patchSetId": 9
      },
      "lineNbr": 1516,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: fix the indentation",
      "range": {
        "startLine": 1516,
        "startChar": 6,
        "endLine": 1516,
        "endChar": 7
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c85e0e70_9eaaf98d",
        "filename": "tools/releasetools/ota_from_target_files.py",
        "patchSetId": 9
      },
      "lineNbr": 1516,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d728413_87827124",
      "range": {
        "startLine": 1516,
        "startChar": 6,
        "endLine": 1516,
        "endChar": 7
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a60e26b_256a9ed0",
        "filename": "tools/releasetools/ota_from_target_files.py",
        "patchSetId": 9
      },
      "lineNbr": 1543,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: indentation",
      "range": {
        "startLine": 1543,
        "startChar": 36,
        "endLine": 1543,
        "endChar": 37
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66982c5e_fadee46b",
        "filename": "tools/releasetools/ota_from_target_files.py",
        "patchSetId": 9
      },
      "lineNbr": 1543,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a60e26b_256a9ed0",
      "range": {
        "startLine": 1543,
        "startChar": 36,
        "endLine": 1543,
        "endChar": 37
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2ff74ac_408827c1",
        "filename": "tools/releasetools/test_blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 18,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: put import before",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 9
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dc0cc1a_d3dd8b23",
        "filename": "tools/releasetools/test_blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 18,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e2ff74ac_408827c1",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 18,
        "endChar": 9
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6464a2b2_c6540c47",
        "filename": "tools/releasetools/test_blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 278,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-10T16:56:01Z",
      "side": 1,
      "message": "nit: change all these two 2-space indent (4-space + 80-char line limit is painful)",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 278,
        "endChar": 4
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "caab38b5_ea8a2a8e",
        "filename": "tools/releasetools/test_blockimgdiff.py",
        "patchSetId": 9
      },
      "lineNbr": 278,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-04-10T23:39:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6464a2b2_c6540c47",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 278,
        "endChar": 4
      },
      "revId": "6fcd779d7749827a04b34253b39c7c87d9656067",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
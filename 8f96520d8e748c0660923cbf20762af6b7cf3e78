{
  "comments": [
    {
      "key": {
        "uuid": "1a199fc9_5cf8e360",
        "filename": "core/java_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2017-12-20T21:38:39Z",
      "side": 1,
      "message": "I don\u0027t think this will work, $(HOST_JDK_TOOLS_JAR) is used by modules before they include $(BUILD_*) which is what ends up here.  Each module is going to see the HOST_JDK_TOOLS_JAR value from the LOCAL_JAVA_LANGUAGE_VERSION of the module that was parsed before it.",
      "revId": "8f96520d8e748c0660923cbf20762af6b7cf3e78",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "632e73e0_dc2f91c4",
        "filename": "core/java_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1103203
      },
      "writtenOn": "2017-12-20T22:19:21Z",
      "side": 1,
      "message": ":(\n\nI could set HOST_JDK_TOOLS_JAR to a nonempty value unconditionally in config.mk, but then filter it out in java_common.mk. But to do that, config.mk would need access to ANDROID_JAVA8_HOME, which I think means that that would have to be set by build/envsetup.sh, which you previously opposed.\n\n(I assume that envsetup.sh is why config.sh apparently has access to ANDROID_JAVA_TOOLCHAIN, probably via ANDROID_JAVA_HOME).\n\nAny better idea?",
      "parentUuid": "1a199fc9_5cf8e360",
      "revId": "8f96520d8e748c0660923cbf20762af6b7cf3e78",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "229114dd_a9a7f6dd",
        "filename": "core/java_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1103203
      },
      "writtenOn": "2017-12-20T22:48:47Z",
      "side": 1,
      "message": "Did this now; made ANDROID_JAVA8_HOME available to config.mk via ui/build/config.go as discussed; this required a build/soong CL which I\u0027ve added to this CL in a topic.\n\nFiltering HOST_JDK_TOOLS_JAR out of the classpath is a little hacky, but it\u0027s vaguely temporary (can be dropped when we drop OpenJDK 8 prebuilts),\n\nHow does this look?",
      "parentUuid": "632e73e0_dc2f91c4",
      "revId": "8f96520d8e748c0660923cbf20762af6b7cf3e78",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
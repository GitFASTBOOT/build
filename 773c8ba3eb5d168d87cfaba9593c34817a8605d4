{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "27518509_096a55a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1043093
      },
      "writtenOn": "2024-05-28T21:39:49Z",
      "side": 1,
      "message": "question for owners, is there a common mk file shared between all architectures to include the proposed logic?",
      "revId": "773c8ba3eb5d168d87cfaba9593c34817a8605d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "708c293d_91244c8d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1043093
      },
      "writtenOn": "2024-05-28T21:52:43Z",
      "side": 1,
      "message": "Or is there a common `device.mk` file for aosp targets where we can do the following:\n```\n-include vendor/widevine/libwvdrmengine/apex/device/device.mk\n```",
      "parentUuid": "27518509_096a55a2",
      "revId": "773c8ba3eb5d168d87cfaba9593c34817a8605d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ca12401_4c168fe7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2024-05-28T22:08:01Z",
      "side": 1,
      "message": "I don\u0027t think use_devkey is the right way of doing it and you might want to have something like:\n\napex {\n    name: \u003cyour apex\u003e_without_dev_key,\n    certificate: ...\n} \n\noverride_apex {\n    name: \u003cyour_apex\u003e,\n    base: \u003cyour apex\u003e_without_dev_key,\n    certificate:..\n    key:  ...\n}\n\nso the same apex signed with different keys can be used in their corresponding cases and you don\u0027t have to check if dev keys exist or not. This also helps avoid if/else conditions in product config .mk files.",
      "parentUuid": "708c293d_91244c8d",
      "revId": "773c8ba3eb5d168d87cfaba9593c34817a8605d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9324440_e481c882",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1043093
      },
      "writtenOn": "2024-05-31T17:33:44Z",
      "side": 1,
      "message": "We need use_devkey because external partners may use our repo without the dev keys repo.\n\nWe would see errors like in http://b/341134913#comment8:\n```\nFAILED: out/soong/build.gambit.ninja\n...t --globFile out/soong/globs-gambit.ninja -l out/.module_paths/Android.bp.list --available_env out/soong/soong.environment.available --used_env out/soong/soong.environment.used.gambit.build Android.bp\n[Golang][mtkDexPreOptVariantDefaults] vars:userdebug\nWarning: Module \u0027androidx.wear_wear\u0027 depends on non-existing optional_uses_libs \u0027wear-sdk\u0027\nWarning: Module \u0027androidx.wear.compose_compose-foundation\u0027 depends on non-existing optional_uses_libs \u0027wear-sdk\u0027\nerror: vendor/widevine/libwvdrmengine/apex/Android.bp:65:1: \"com.google.android.widevine\" depends on undefined module \"com_google_android_widevine_nonupdatable-image.key\".\nOr did you mean [\"googlecarui.theme.orange-com-android-car-messenger\" \"googlecarui.theme.pink-com-android-car-carlauncher\"]?\nerror: vendor/widevine/libwvdrmengine/apex/Android.bp:65:1: \"com.google.android.widevine\" depends on undefined module \"com_google_android_widevine_nonupdatable-container\".\nOr did you mean [\"googlecarui.theme.orange-com-android-car-messenger\" \"googlecarui.theme.pink-com-android-car-carlauncher\"]?\nfatal errors encountered\nninja: build stopped: subcommand failed.\n11:17:51 soong bootstrap failed with: exit status 1\n\nRBE Stats: down 0 B, up 0 B, \n```",
      "parentUuid": "0ca12401_4c168fe7",
      "revId": "773c8ba3eb5d168d87cfaba9593c34817a8605d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
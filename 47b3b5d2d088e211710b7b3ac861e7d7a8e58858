{
  "comments": [
    {
      "key": {
        "uuid": "50c5985b_d8c03126",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-10-08T03:30:52Z",
      "side": 1,
      "message": "I think if we had PRODUCT_DEX_PREOPT_BOOT_DEFAULT_FLAGS as well, we could use that for WITH_ART_SMALL_MODE so it wouldn\u0027t have to be a \"#if ART_SMALL_MODE\" in the code (assuming we also set some PRODUCT_PROPERTY_OVERRIDES as well. but that can be another change.",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 22,
        "endChar": 41
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b007b451_8ba29e09",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T16:45:28Z",
      "side": 1,
      "message": "Sorry, I forgot that bit.\nDone.",
      "parentUuid": "50c5985b_d8c03126",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0992c84_9b64d7bf",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T23:31:00Z",
      "side": 1,
      "message": "See here.",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90a8f091_efd60179",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T16:58:11Z",
      "side": 1,
      "message": "Should this be:\n\nifneq (,$(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG))\n  LOCAL_DEX_PREOPT :\u003d $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG)\nelse ..",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 37
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0b4ccdf_295b99d2",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T17:12:03Z",
      "side": 1,
      "message": "No, as the commit message says $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG) can be used either to disable LOCAL_DEX_PREOPT or pass dex2oat command line flags, for which we added a new LOCAL_DEX_PREOPT_FLAGS.",
      "parentUuid": "90a8f091_efd60179",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0992c84_181e2dd2",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T22:59:56Z",
      "side": 1,
      "message": "I think this is making it confusing as to whose flag has precedent. If a project sets LOCAL_DEX_PREOPT :\u003d true then this is overridden by $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG) being set false but the opposite isn\u0027t true. I\u0027m awash in a see of global variables anyway...",
      "parentUuid": "f0b4ccdf_295b99d2",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0992c84_3b768b7c",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T23:31:00Z",
      "side": 1,
      "message": "No, we run to this point only if LOCAL_DEX_PREOPT is not set by the project. The precedence is:\nproject\u0027s LOCAL variable \u003e $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG)  \u003e $(PRODUCT_DEX_PREOPT_DEFAULT_FLAGS)",
      "parentUuid": "f0992c84_181e2dd2",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10bfa0c3_b254694d",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-09T22:35:24Z",
      "side": 1,
      "message": "But why can\u0027t $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG) be other values than false to override?",
      "parentUuid": "f0992c84_3b768b7c",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5073d823_eb85052c",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-09T22:48:24Z",
      "side": 1,
      "message": "Sure it can.",
      "parentUuid": "10bfa0c3_b254694d",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9081d019_b0c53e47",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-09T22:48:24Z",
      "side": 1,
      "message": "Here is when $(DEXPREOPT.$(TARGET_PRODUCT).$(LOCAL_MODULE).CONFIG) is other value than false.",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10bfa0c3_156c27a3",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-10T00:23:13Z",
      "side": 1,
      "message": "But in that case the value is flags. What if I set DEX_PREOPT_DEFAULT:\u003dfalse then try to set specific things to true?",
      "parentUuid": "9081d019_b0c53e47",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "106de043_66c87080",
        "filename": "core/dex_preopt_odex_install.mk",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-10T00:40:25Z",
      "side": 1,
      "message": "Sorry, I don\u0027t understand. If DEX_PREOPT_DEFAULT:\u003dfalse, we don\u0027t do dex-preot for the module at all. Why bother to set module specific thing?\nAlso I believe we introduced DEX_PREOPT_DEFAULT to accommodate  \"nostripping\" when we wanted to preserve the classes.dex inside apks to allow dual boot. This flag should be gone now as we have removed dalvik.\nAgain, this change allows  you to attach an arbitrary string to a module in a product configuration. It\u0027s not meant to finalize how we interpret the string. We can improve that when the requirement becomes clearer.",
      "parentUuid": "10bfa0c3_156c27a3",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0a334b2_b3346200",
        "filename": "core/product.mk",
        "patchSetId": 3
      },
      "lineNbr": 294,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T16:58:11Z",
      "side": 1,
      "message": "I couldn\u0027t parse this, likely user error on my behalf.",
      "range": {
        "startLine": 294,
        "startChar": 2,
        "endLine": 294,
        "endChar": 25
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b007b451_0b850e63",
        "filename": "core/product.mk",
        "patchSetId": 3
      },
      "lineNbr": 294,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T17:12:03Z",
      "side": 1,
      "message": "We want to replace all whitespaces in the config with the following string, so it appears as a single word in PRODUCT_DEX_PREOPT_MODULE_CONFIGS.",
      "parentUuid": "b0a334b2_b3346200",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90a8f091_efad21f9",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T16:58:11Z",
      "side": 1,
      "message": "configs.",
      "range": {
        "startLine": 419,
        "startChar": 44,
        "endLine": 419,
        "endChar": 51
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0a334b2_136b6ee4",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T16:58:11Z",
      "side": 1,
      "message": "setup",
      "range": {
        "startLine": 419,
        "startChar": 14,
        "endLine": 419,
        "endChar": 20
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b007b451_4b66f64a",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T17:12:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0a334b2_136b6ee4",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b007b451_ab6b2210",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T17:12:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90a8f091_efad21f9",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90a8f091_cfb05d54",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 422,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-10-08T16:58:11Z",
      "side": 1,
      "message": "setups",
      "range": {
        "startLine": 422,
        "startChar": 27,
        "endLine": 422,
        "endChar": 32
      },
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10bfa0c3_79c8ff7f",
        "filename": "core/product_config.mk",
        "patchSetId": 3
      },
      "lineNbr": 422,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-10-08T17:12:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90a8f091_cfb05d54",
      "revId": "47b3b5d2d088e211710b7b3ac861e7d7a8e58858",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
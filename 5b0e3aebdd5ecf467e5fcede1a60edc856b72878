{
  "comments": [
    {
      "key": {
        "uuid": "5b8e4149_b916ca2c",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-12-12T00:01:17Z",
      "side": 1,
      "message": "I am okay with this location but just curious if we should use the sub config folder for these as well?",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 84
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19bc3d28_b42d0ef6",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T08:41:54Z",
      "side": 1,
      "message": "In this case there is no other test config file, so we don\u0027t need to use sub config folder? When we add more function to auto-generate both the main test config and sub-config, we will need to change the logic in test_config_common.mk so the sub config module can have a deps on LOCAL_AUTOGEN_TEST_CONFIG_FILE.",
      "parentUuid": "5b8e4149_b916ca2c",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 84
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c515a80b_e33f585e",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-12-11T23:55:24Z",
      "side": 1,
      "message": "Will the build team care that we are outputting warnings here?",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af5461a1_6396d5e0",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-11T23:59:20Z",
      "side": 1,
      "message": "Yes. use errors, not warnings. We\u0027ve also got $(call pretty_warning,...) $(call pretty_error,...) that includes information about the current Android.mk file and LOCAL_MODULE.",
      "parentUuid": "c515a80b_e33f585e",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a0d4958_eab1c0b5",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T08:41:54Z",
      "side": 1,
      "message": "There are quote a lot of existing modules have this warning. We will have to clean them up first or tot will error out.\n\nCan we use pretty_warning here for now? Hopefully the project owners will fix the issue (remove LOCAL_COMPATIBILITY_SUITE setting) when they see the warnings.",
      "parentUuid": "af5461a1_6396d5e0",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1b034c6_308fb41d",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-12T08:50:43Z",
      "side": 1,
      "message": "Just adding warnings means that even fewer people look at new warnings. Errors work, warnings don\u0027t -- either clean it up and make it an error, or don\u0027t print anything.",
      "parentUuid": "0a0d4958_eab1c0b5",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da9314e1_a5fcccc6",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T17:34:41Z",
      "side": 1,
      "message": "OK, there are too many of them across many projects. I will do the clean up in b/70559446. Will remove the warning here.",
      "parentUuid": "d1b034c6_308fb41d",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3c9a8dd_9a1eda3b",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-11T23:59:20Z",
      "side": 1,
      "message": "Please don\u0027t use $(shell) -- they get particularly expensive since we don\u0027t know when we can safely cache their output, so we have to run them every time you start a build, even if nothing changed.\n\nPut the logic in a rule that\u0027s only executed when you\u0027re actually building the file.",
      "range": {
        "startLine": 24,
        "startChar": 23,
        "endLine": 24,
        "endChar": 81
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a61676f_b9b68b50",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T08:41:54Z",
      "side": 1,
      "message": "I see. The problem here is that I need to grep the AndroidManifest file to determine if or not to auto generate the test config file.\n\nIf I move this code to build rule, how can I fail the build rule so other build step won\u0027t try to read the config file?",
      "parentUuid": "e3c9a8dd_9a1eda3b",
      "range": {
        "startLine": 24,
        "startChar": 23,
        "endLine": 24,
        "endChar": 81
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eebda0d2_6f715cf0",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-12T08:50:43Z",
      "side": 1,
      "message": "We generally say we can\u0027t read files during the build definition due to these issues. All of the information needed by the build logic should be in the Android.bp / Android.mk files, either move the information to there, or duplicate it in both places and add verification to the rule to ensure that it matches.",
      "parentUuid": "9a61676f_b9b68b50",
      "range": {
        "startLine": 24,
        "startChar": 23,
        "endLine": 24,
        "endChar": 81
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "131ebff1_ffafaccd",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T17:34:41Z",
      "side": 1,
      "message": "Do you have an example I can use as reference? Does that mean I can do shell command to grep the file in Android.mk?\n\nI think another option is to fix the root cause, that is, remove LOCAL_COMPATIBILITY_SUITE from these modules\u0027 Android.mk file.",
      "parentUuid": "eebda0d2_6f715cf0",
      "range": {
        "startLine": 24,
        "startChar": 23,
        "endLine": 24,
        "endChar": 81
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "486b3d4b_6eab0b56",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-11T23:59:20Z",
      "side": 1,
      "message": "same here",
      "range": {
        "startLine": 29,
        "startChar": 55,
        "endLine": 29,
        "endChar": 64
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2a0cbfa_692ab4df",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-12-11T23:59:20Z",
      "side": 1,
      "message": "And these two.",
      "range": {
        "startLine": 32,
        "startChar": 12,
        "endLine": 32,
        "endChar": 19
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b892dd11_68c7a25f",
        "filename": "core/autogen_test_config.mk",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-12-12T00:01:17Z",
      "side": 1,
      "message": "Add a comment explaining the commands and the options.",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 35,
        "endChar": 86
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9401327d_87147c18",
        "filename": "core/base_rules.mk",
        "patchSetId": 6
      },
      "lineNbr": 515,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-12-11T23:55:24Z",
      "side": 1,
      "message": "Why do you unset these?\n\nNote my CL in presubmit now uses arch dir in the lower lines so you\u0027ll have to rebase.\n\nhttps://android-review.googlesource.com/c/platform/build/+/555203",
      "range": {
        "startLine": 513,
        "startChar": 0,
        "endLine": 515,
        "endChar": 12
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "274f31f0_437d947b",
        "filename": "core/base_rules.mk",
        "patchSetId": 6
      },
      "lineNbr": 515,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-12T08:41:54Z",
      "side": 1,
      "message": "is_native was unset in line 483. I need to use these two in 505 and 506, so move the unset here. Will rebase.",
      "parentUuid": "9401327d_87147c18",
      "range": {
        "startLine": 513,
        "startChar": 0,
        "endLine": 515,
        "endChar": 12
      },
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "052bfd21_559c7830",
        "filename": "core/tasks/module-info.mk",
        "patchSetId": 6
      },
      "lineNbr": 15,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-12-11T23:37:22Z",
      "side": 1,
      "message": "We need an attribute for the module to indicate test config will be auto generated during build. That way atest won\u0027t fail due to missing AndroidTest.xml.\n\nDoes this have to be a list or we can just add the boolean as value?",
      "revId": "5b0e3aebdd5ecf467e5fcede1a60edc856b72878",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
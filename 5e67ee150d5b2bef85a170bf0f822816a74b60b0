{
  "comments": [
    {
      "key": {
        "uuid": "2bda3d05_85ddd7e5",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 251,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T22:14:35Z",
      "side": 1,
      "message": "I should not have dropped this from the latest CL ...",
      "range": {
        "startLine": 251,
        "startChar": 2,
        "endLine": 251,
        "endChar": 49
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32d4671c_6f4468c5",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 304,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-10-23T00:03:12Z",
      "side": 1,
      "message": "it does look a little more complicated... and as a side-effect, we have to construct the same in_dir twice.\n\nhow about we handle this by writing a special prop into prop_dict, and re-use in_dir/fs_config/mount_point in SetUpInDirAndFsConfig()?\n\ndef SetUpInDirAndFsConfig(origin_in, prop_dict):\n  if prop_dict[\"mount_point\"] \u003d\u003d \"system_other\":\n    ...\n  if prop_dict[\"mount_point\"] !\u003d \"system\":\n    ...\n\n  if \"first_pass\" in prop_dict:\n    prop_dict[\"mount_point\"] \u003d \"/\"\n    return prop_dict[\"first_pass\"]\n\n  in_dir \u003d ...\n  ...\n\n  prop_dict[\"first_pass\"] \u003d (in_dir, fs_config)",
      "range": {
        "startLine": 302,
        "startChar": 6,
        "endLine": 304,
        "endChar": 30
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0db462da_faa8091a",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 304,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T19:43:58Z",
      "side": 1,
      "message": "THX\n\n(My alternative was to factor out the call to SetUpInDirAndFsConfig, \"stuff\" below the call would be a new BuildImageFromSetupInDirAndFSConfig, but am fine with using a prop_dict[\"first_pass\"] as a cache for the decisions).",
      "parentUuid": "32d4671c_6f4468c5",
      "range": {
        "startLine": 302,
        "startChar": 6,
        "endLine": 304,
        "endChar": 30
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7a1d2be_8ffe0fbe",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 307,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-22T23:41:46Z",
      "side": 1,
      "message": "I probably do not understand what cleanup means in the python world ...",
      "range": {
        "startLine": 306,
        "startChar": 0,
        "endLine": 307,
        "endChar": 29
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "049cf82e_2ad28119",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 307,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-10-23T00:03:12Z",
      "side": 1,
      "message": "I think you managed to remove the original_input_dir at out/target/product/generic_arm64/system...",
      "parentUuid": "b7a1d2be_8ffe0fbe",
      "range": {
        "startLine": 306,
        "startChar": 0,
        "endLine": 307,
        "endChar": 29
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16ff8bc1_4cabd778",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 307,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T19:43:58Z",
      "side": 1,
      "message": "Yup, confirmed. Your comment above will help shape a better solution to this ...",
      "parentUuid": "049cf82e_2ad28119",
      "range": {
        "startLine": 306,
        "startChar": 0,
        "endLine": 307,
        "endChar": 29
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d64316c1_8d47c929",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 315,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-10-23T00:03:12Z",
      "side": 1,
      "message": "nit: \u003c\u003d",
      "range": {
        "startLine": 315,
        "startChar": 41,
        "endLine": 315,
        "endChar": 42
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d65f6681_9b1db60e",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 315,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T19:43:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d64316c1_8d47c929",
      "range": {
        "startLine": 315,
        "startChar": 41,
        "endLine": 315,
        "endChar": 42
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61ff0234_f985a417",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 322,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-10-23T00:03:12Z",
      "side": 1,
      "message": "nit: \"//\"",
      "range": {
        "startLine": 322,
        "startChar": 42,
        "endLine": 322,
        "endChar": 43
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bf6742c_e69b0421",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 322,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T19:43:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61ff0234_f985a417",
      "range": {
        "startLine": 322,
        "startChar": 42,
        "endLine": 322,
        "endChar": 43
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b99a43f_7b4ab18d",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 323,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-10-23T00:03:12Z",
      "side": 1,
      "message": "prop_dict[\"extfs_inode_count\"], since it must have existed at this point",
      "range": {
        "startLine": 323,
        "startChar": 26,
        "endLine": 323,
        "endChar": 63
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4385b881_384f8c53",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 3
      },
      "lineNbr": 323,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-10-23T19:43:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b99a43f_7b4ab18d",
      "range": {
        "startLine": 323,
        "startChar": 26,
        "endLine": 323,
        "endChar": 63
      },
      "revId": "5e67ee150d5b2bef85a170bf0f822816a74b60b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
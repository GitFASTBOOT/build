{
  "comments": [
    {
      "key": {
        "uuid": "413e3cb4_961a33fd",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 2
      },
      "lineNbr": 839,
      "author": {
        "id": 1455782
      },
      "writtenOn": "2020-09-16T16:42:41Z",
      "side": 1,
      "message": "Can all of these be a new function? Something like\n\ndef has_partition(partition):\n  return ((os.path.isdir(os.path.join(OPTIONS.input_tmp, partition.upper())) and\n                 OPTIONS.info_dict.get(\"building_%s_image\" % partition) \u003d\u003d \"true\") or\n                os.path.exists(\n                    os.path.join(OPTIONS.input_tmp, \"IMAGES\", \"%s.img\" % partition)))\n\nhas_vendor \u003d has_partition(\u0027vendor\u0027)\nhas_odm \u003d has_partition(\u0027odm\u0027)\n...\n\nThat way we don\u0027t forget this addition for other partitions (like how system_other is also currently missing the .img check)",
      "range": {
        "startLine": 795,
        "startChar": 2,
        "endLine": 839,
        "endChar": 68
      },
      "revId": "873fd7a87df2131d13585e18ba640dfa8c2ad0eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
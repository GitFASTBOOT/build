{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cbafce59_c006aee5",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-07-13T23:22:43Z",
      "side": 1,
      "message": "It doesn\u0027t seem reasonable to expect every developer to know to set this locally.",
      "range": {
        "startLine": 688,
        "startChar": 27,
        "endLine": 688,
        "endChar": 55
      },
      "revId": "9f7c08ea8f8a2a419422435dd0217ef0e172bfdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e1fc132_1e0ddd5a",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2023-07-13T23:31:01Z",
      "side": 1,
      "message": "That\u0027s true. I wanted to find a flag that is available to ninja if \u0027dist\u0027 is in the goal. Any idea on this?",
      "parentUuid": "cbafce59_c006aee5",
      "range": {
        "startLine": 688,
        "startChar": 27,
        "endLine": 688,
        "endChar": 55
      },
      "revId": "9f7c08ea8f8a2a419422435dd0217ef0e172bfdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c92d7703_a8b1991c",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-07-13T23:35:30Z",
      "side": 1,
      "message": "There isn\u0027t currently anything, `dist` just affects how `out/build-${TARGET_PRODUCT}-package.ninja` is generated.  We don\u0027t want to regenerate the ninja files when switching between regular and dist builds, and ninja doesn\u0027t handle dependencies on environment variables well.\n\nI can only think of hacky solutions like having soong_ui write out a file that changes between dist and non dist builds, make the file a dependency of the image generation rules, and extract the flag from there.  That would force the images to rebuild when switching from a regular build to dist, but that\u0027s probably OK.",
      "parentUuid": "7e1fc132_1e0ddd5a",
      "range": {
        "startLine": 688,
        "startChar": 27,
        "endLine": 688,
        "endChar": 55
      },
      "revId": "9f7c08ea8f8a2a419422435dd0217ef0e172bfdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "898efb5e_bc9298d6",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2023-07-14T01:31:40Z",
      "side": 1,
      "message": "I feel fine with the hacky way given that we will eventually sync files based on hashes [1]. When that is realized, we can remove the hack and always use the fixed timestamp everywhere.\n\n[1] https://docs.google.com/document/d/1rJuyY-cp_jY4lOdCUVndV0P16Cz4zUTYco6R72KAJdQ/edit?resourcekey\u003d0-TNMbV2Dv2wEXP9ywWaH5HQ#heading\u003dh.89m05wpz06ri",
      "parentUuid": "c92d7703_a8b1991c",
      "range": {
        "startLine": 688,
        "startChar": 27,
        "endLine": 688,
        "endChar": 55
      },
      "revId": "9f7c08ea8f8a2a419422435dd0217ef0e172bfdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9960ddf_1666443c",
        "filename": "tools/releasetools/build_image.py",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2023-07-15T07:05:00Z",
      "side": 1,
      "message": "I disabled copying images for target_files.zip with aosp/2658156.\n\nI will find the way to update the timestamp with the ext2fs tool, and then restore the feature after that. (b/291385516)",
      "parentUuid": "898efb5e_bc9298d6",
      "range": {
        "startLine": 688,
        "startChar": 27,
        "endLine": 688,
        "endChar": 55
      },
      "revId": "9f7c08ea8f8a2a419422435dd0217ef0e172bfdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
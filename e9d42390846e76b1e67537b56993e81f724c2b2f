{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fdb327a9_c335db3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2022-05-18T16:28:53Z",
      "side": 1,
      "message": "AIUI prior to this change a thin manifest that excluded art/ would fail here.\nWhat are the consequences of not finding the file in such a manifest? Is it only used when art/ is present?",
      "revId": "e9d42390846e76b1e67537b56993e81f724c2b2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d14aa6a_aec6202d",
        "filename": "target/product/default_art_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2022-05-18T17:38:47Z",
      "side": 1,
      "message": "The problem with this is that if the file gets missing in an ART build it may take a while before we notice. Can we instead do something like checking if either TARGET_BUILD_UNBUNDLED isn\u0027t true or TARGET_BUILD_APPS has an ART module (i.e. matches `%.android.art%` should be close enough)?",
      "range": {
        "startLine": 81,
        "startChar": 50,
        "endLine": 81,
        "endChar": 60
      },
      "revId": "e9d42390846e76b1e67537b56993e81f724c2b2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6dcb79b6_e9efe40d",
        "filename": "target/product/default_art_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2022-05-18T17:42:20Z",
      "side": 1,
      "message": "It seems even more dangerous to accidentally turn this off during a mainline build that needs it.  I could use a `$(wildcard art/)` conditional instead, so that it will at least fail to build if you rename the file.",
      "parentUuid": "2d14aa6a_aec6202d",
      "range": {
        "startLine": 81,
        "startChar": 50,
        "endLine": 81,
        "endChar": 60
      },
      "revId": "e9d42390846e76b1e67537b56993e81f724c2b2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f158956f_55fa410a",
        "filename": "target/product/default_art_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2022-05-18T17:46:35Z",
      "side": 1,
      "message": "I thought my suggestion would accomplish that - if TARGET_BUILD_APPS doesn\u0027t mention the ART module in a Mainline module build it\u0027s not getting built at all and this would be moot. But I see no problem with your suggestion either.",
      "parentUuid": "6dcb79b6_e9efe40d",
      "range": {
        "startLine": 81,
        "startChar": 50,
        "endLine": 81,
        "endChar": 60
      },
      "revId": "e9d42390846e76b1e67537b56993e81f724c2b2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ad2f380_67de5fee",
        "filename": "target/product/default_art_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2022-05-18T21:17:06Z",
      "side": 1,
      "message": "My worry is that having a complex conditional here is easy to break.  For example if we change the way `TARGET_BUILD_UNBUNDLED` or `TARGET_BUILD_APPS` works for mainline modules we could easily miss updating this location.",
      "parentUuid": "f158956f_55fa410a",
      "range": {
        "startLine": 81,
        "startChar": 50,
        "endLine": 81,
        "endChar": 60
      },
      "revId": "e9d42390846e76b1e67537b56993e81f724c2b2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
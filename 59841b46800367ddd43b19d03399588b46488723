{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4f88c5f2_05e89d70",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 1
      },
      "lineNbr": 606,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2024-08-08T17:04:24Z",
      "side": 1,
      "message": "this should be generated using Makefile rather than overriding it in release tools script.",
      "fixSuggestions": [
        {
          "fixId": "e04eb631_5c605ac8",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "tools/releasetools/add_img_to_target_files.py",
              "range": {
                "startLine": 592,
                "startChar": 0,
                "endLine": 594,
                "endChar": 0
              },
              "replacement": ""
            },
            {
              "path": "tools/releasetools/add_img_to_target_files.py",
              "range": {
                "startLine": 606,
                "startChar": 0,
                "endLine": 610,
                "endChar": 0
              },
              "replacement": ""
            }
          ]
        }
      ],
      "revId": "59841b46800367ddd43b19d03399588b46488723",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1712116_c8f2a040",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 1
      },
      "lineNbr": 606,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-08T22:25:34Z",
      "side": 1,
      "message": "Oh I think I found where it should be: https://cs.android.com/android/platform/superproject/+/android14-qpr3-release:build/make/tools/releasetools/common.py;l\u003d894-923\n\nThe comments there match with the case of erofs_compress_hints. Kelvin, what do you think?",
      "parentUuid": "4f88c5f2_05e89d70",
      "revId": "59841b46800367ddd43b19d03399588b46488723",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a360215d_0fde72ce",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 1
      },
      "lineNbr": 606,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2024-08-08T23:46:37Z",
      "side": 1,
      "message": "I think the best approach is to moidfy Makefiles to generate correct values for `erofs_default_compress_hints` and other partition specific compression hint props, rather than overriding it in any release tools script.",
      "parentUuid": "e1712116_c8f2a040",
      "revId": "59841b46800367ddd43b19d03399588b46488723",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d497ea05_f979672f",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 1
      },
      "lineNbr": 606,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-09T00:37:37Z",
      "side": 1,
      "message": "I see. Even though we do that in release script for other things, you want it to be in Makefile for new things like this. Fair enough. Let me check if Makefile can do that. It looks like generating misc_info.txt in Makefile relies on the local build config.\n\nhttps://cs.android.com/android/platform/superproject/main/+/main:build/make/core/Makefile;l\u003d6696\n\n```\n\t$(hide) cp $(INSTALLED_MISC_INFO_TARGET) $(zip_root)/META/misc_info.txt\n```\n\nIt\u0027s simply being copied from OUT/misc_info.txt to zip/META. We could override values when copying. But well, I don\u0027t think it\u0027s better. What do you think?",
      "parentUuid": "a360215d_0fde72ce",
      "revId": "59841b46800367ddd43b19d03399588b46488723",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "704b6efe_7b141113",
        "filename": "tools/releasetools/add_img_to_target_files.py",
        "patchSetId": 1
      },
      "lineNbr": 606,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-08-09T00:41:50Z",
      "side": 1,
      "message": "I think we need a few tweaks at least in the release script to replace these file references with extracted directory.",
      "parentUuid": "d497ea05_f979672f",
      "revId": "59841b46800367ddd43b19d03399588b46488723",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
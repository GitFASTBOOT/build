{
  "comments": [
    {
      "key": {
        "uuid": "2e9eed64_437ee74d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-09-22T04:54:36Z",
      "side": 1,
      "message": "Does the kernel version work for OTA though. I guess it\u0027s possible to have two different boot images with the same kernel version? So incremental OTA cannot rely on the kernel version alone",
      "revId": "70b08d8b7303929f0e9df981ef9f4dffbc7484d8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "699a1a03_8814017c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-09-22T18:43:09Z",
      "side": 1,
      "message": "Do brillo_update_payload not generate the diff for boot partition if they have the same \"version\" field?\n\nRegardless, you are right about that the kernel version isn\u0027t comprehensive. I\u0027ll discuss this in the doc, and fix this + update_engine together.",
      "parentUuid": "2e9eed64_437ee74d",
      "revId": "70b08d8b7303929f0e9df981ef9f4dffbc7484d8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6e75a50_1b764cec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-09-22T18:55:37Z",
      "side": 1,
      "message": "\u003e\u003e\u003e Do brillo_update_payload not generate the diff for boot partition if they have the same \"version\" field?\n\nthey do actually. Even if the image is the same, there will be a bunch of copy commands",
      "parentUuid": "699a1a03_8814017c",
      "revId": "70b08d8b7303929f0e9df981ef9f4dffbc7484d8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c48517e_d9dbfd9a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-09-22T19:33:50Z",
      "side": 1,
      "message": "I think that reduces the risk. If I don\u0027t fix this (see doc for ways to fix this), the OTA client will just fail to detect downgrade between two boot images with the same kernel binary but maybe built differently (e.g. they have different ramdisks, and one is newer than the other). However:\n\n- For OTAs, there are other indicators of downgrade detection (e.g. the global build timestamp)\n- For APEXes, the OTA payload will be wrapped in the APEX with a decoupled APEX version, so downgrades should be detected earlier.",
      "parentUuid": "d6e75a50_1b764cec",
      "revId": "70b08d8b7303929f0e9df981ef9f4dffbc7484d8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87fa88ac_2648fc14",
        "filename": "tools/releasetools/ota_from_target_files.py",
        "patchSetId": 2
      },
      "lineNbr": 853,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-09-22T19:48:04Z",
      "side": 1,
      "message": "Should only set if a certain PRODUCT variable is set.",
      "range": {
        "startLine": 851,
        "startChar": 0,
        "endLine": 853,
        "endChar": 88
      },
      "revId": "70b08d8b7303929f0e9df981ef9f4dffbc7484d8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
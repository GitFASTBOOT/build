{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "065e26dd_0dd363ab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1950816
      },
      "writtenOn": "2024-02-22T07:14:19Z",
      "side": 1,
      "message": "@zhangkelvin@google.com Would you know how I can run sign_target_files_apks fully for verifying my code is healthy? I\u0027m not 100% confident that I put right parameters to run the script.",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fc53027_badeb784",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1950816
      },
      "writtenOn": "2024-02-22T07:22:22Z",
      "side": 1,
      "message": "Also, I\u0027m curious if my patch changes microdroid_vendor.img stored in `IMAGES/vendor.img` as well. Due to some error regardless this change(I may put parameters wrongly), I couldn\u0027t verify that.",
      "parentUuid": "065e26dd_0dd363ab",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "392828e0_c7b56574",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1950816
      },
      "writtenOn": "2024-02-22T07:23:24Z",
      "side": 1,
      "message": "BTW, many thanks for giving a help via bug \u0026 reviewing this ðŸ˜Š",
      "parentUuid": "0fc53027_badeb784",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e63c8ee_9c432fce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2024-02-27T22:20:52Z",
      "side": 1,
      "message": "You can run `m target-files-package` and. then invoke `sign_target_files_apks` from top of your android tree.",
      "parentUuid": "392828e0_c7b56574",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3decec4_2476e7d6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1950816
      },
      "writtenOn": "2024-02-28T08:41:54Z",
      "side": 1,
      "message": "Thanks, but unfortunately errors still remain when running `sign_target_files_apks`. Would you know how to solve this issue?\n```\n17:13:59 mkuserimg_mke2fs.py INFO: Env: {\u0027E2FSPROGS_FAKE_TIME\u0027: \u00271230768000\u0027}\n17:13:59 mkuserimg_mke2fs.py INFO: Running: /usr/local/google/home/seungjaeyoo/Workspace/git_main_1/out/host/linux-x86/bin/e2fsdroid -e -T 1230768000 -C /tmp/merged_fs_config6ctu23eb.txt -B /tmp/targetfiles-0ajpur99/IMAGES/system.map -s -S /tmp/targetfiles-0ajpur99/META/file_contexts.bin -f /tmp/tmp7bf8x8cn -a / /tmp/targetfiles-0ajpur99/IMAGES/system.img\n17:14:04 mkuserimg_mke2fs.py ERROR: Failed to run e2fsdroid_cmd: Regex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nRegex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nandroid_configure_fs: No such file or directory while opening file contexts \"/tmp/targetfiles-0ajpur99/META/file_contexts.bin\"\ne2fsdroid: No such file or directory while configuring the file system\n\nmke2fs 1.46.6 (1-Feb-2023)\nCreating filesystem with 252852 4k blocks and 2944 inodes\nFilesystem UUID: 98da15ef-34f1-56b8-b210-1f8680c932e1\nSuperblock backups stored on blocks: \n\t32768, 98304, 163840, 229376\n\nAllocating group tables: done                            \nWriting inode tables: done                            \nWriting superblocks and filesystem accounting information: done\n\n\nRegex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nRegex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nandroid_configure_fs: No such file or directory while opening file contexts \"/tmp/targetfiles-0ajpur99/META/file_contexts.bin\"\ne2fsdroid: No such file or directory while configuring the file system\nOut of space? Out of inodes? The tree size of /tmp/tmp7bf8x8cn is 926274560 bytes (883 MB), with reserved space of 0 bytes (0 MB).\nThe max image size for filesystem files is 1035681792 bytes (987 MB), out of a total partition size of 1035681792 bytes (987 MB).\nTraceback (most recent call last):\n  File \"\u003cfrozen runpy\u003e\", line 198, in _run_module_as_main\n  File \"\u003cfrozen runpy\u003e\", line 88, in _run_code\n  File \"/usr/local/google/home/seungjaeyoo/Workspace/git_main_1/out/host/linux-x86/bin/sign_target_files_apks/__main__.py\", line 12, in \u003cmodule\u003e\n  File \"\u003cfrozen runpy\u003e\", line 198, in _run_module_as_main\n  File \"\u003cfrozen runpy\u003e\", line 88, in _run_code\n  File \"sign_target_files_apks.py\", line 1696, in \u003cmodule\u003e\n  File \"sign_target_files_apks.py\", line 1689, in main\n  File \"add_img_to_target_files.py\", line 1253, in main\n  File \"add_img_to_target_files.py\", line 1056, in AddImagesToTargetFiles\n  File \"add_img_to_target_files.py\", line 1039, in add_partition\n  File \"add_img_to_target_files.py\", line 300, in AddSystem\n  File \"add_img_to_target_files.py\", line 600, in CreateImage\n  File \"build_image.py\", line 581, in BuildImage\n  File \"build_image.py\", line 447, in BuildImageMkfs\n  File \"common.py\", line 328, in RunAndCheckOutput\ncommon.ExternalError: Failed to run command \u0027[\u0027mkuserimg_mke2fs\u0027, \u0027/tmp/tmp7bf8x8cn\u0027, \u0027/tmp/targetfiles-0ajpur99/IMAGES/system.img\u0027, \u0027ext4\u0027, \u0027/\u0027, \u00271035681792\u0027, \u0027-j\u0027, \u00270\u0027, \u0027-T\u0027, \u00271230768000\u0027, \u0027-C\u0027, \u0027/tmp/merged_fs_config6ctu23eb.txt\u0027, \u0027-B\u0027, \u0027/tmp/targetfiles-0ajpur99/IMAGES/system.map\u0027, \u0027-L\u0027, \u0027/\u0027, \u0027-i\u0027, \u00272833\u0027, \u0027-M\u0027, \u00270\u0027, \u0027-U\u0027, \u002798da15ef-34f1-56b8-b210-1f8680c932e1\u0027, \u0027-S\u0027, \u0027ef9886af-d68c-5d4b-bac0-f3969cedb627\u0027, \u0027-c\u0027, \u0027--inode_size\u0027, \u0027256\u0027, \u0027/tmp/targetfiles-0ajpur99/META/file_contexts.bin\u0027]\u0027 (exit code 4):\n17:13:59 mkuserimg_mke2fs.py INFO: Env: {\u0027MKE2FS_CONFIG\u0027: \u0027/tmp/tmpp0_dcev_\u0027, \u0027E2FSPROGS_FAKE_TIME\u0027: \u00271230768000\u0027}\n17:13:59 mkuserimg_mke2fs.py INFO: Running: /usr/local/google/home/seungjaeyoo/Workspace/git_main_1/out/host/linux-x86/bin/mke2fs -O ^has_journal -L / -N 2833 -I 256 -M / -m 0 -U 98da15ef-34f1-56b8-b210-1f8680c932e1 -E hash_seed\u003def9886af-d68c-5d4b-bac0-f3969cedb627 -t ext4 -b 4096 /tmp/targetfiles-0ajpur99/IMAGES/system.img 252852\n17:13:59 mkuserimg_mke2fs.py INFO: Env: {\u0027E2FSPROGS_FAKE_TIME\u0027: \u00271230768000\u0027}\n17:13:59 mkuserimg_mke2fs.py INFO: Running: /usr/local/google/home/seungjaeyoo/Workspace/git_main_1/out/host/linux-x86/bin/e2fsdroid -e -T 1230768000 -C /tmp/merged_fs_config6ctu23eb.txt -B /tmp/targetfiles-0ajpur99/IMAGES/system.map -s -S /tmp/targetfiles-0ajpur99/META/file_contexts.bin -f /tmp/tmp7bf8x8cn -a / /tmp/targetfiles-0ajpur99/IMAGES/system.img\n17:14:04 mkuserimg_mke2fs.py ERROR: Failed to run e2fsdroid_cmd: Regex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nRegex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\nandroid_configure_fs: No such file or directory while opening file contexts \"/tmp/targetfiles-0ajpur99/META/file_contexts.bin\"\ne2fsdroid: No such file or directory while configuring the file system\n```",
      "parentUuid": "8e63c8ee_9c432fce",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec91388c_e767026a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2024-02-28T17:31:13Z",
      "side": 1,
      "message": "```\n17:14:04 mkuserimg_mke2fs.py ERROR: Failed to run e2fsdroid_cmd: Regex version mismatch, expected: 10.43 2024-02-16 actual: 10.40 2022-04-14\n\n```\n\nLooks like there\u0027s a mismatch in your regex libs. The target files you are trying to sign has a different regex version than your sign_target_files_apks.",
      "parentUuid": "a3decec4_2476e7d6",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d00b3653_abd7f93d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1950816
      },
      "writtenOn": "2024-02-29T08:05:54Z",
      "side": 1,
      "message": "Thanks! It seems like downloading target-files from go/ab was the problem. Now I\u0027ve checked `sign_target_files_apks` fully works on my code.",
      "parentUuid": "ec91388c_e767026a",
      "revId": "22a62cd84171227727bbd7014fb467d5404368b3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
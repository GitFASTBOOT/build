{
  "comments": [
    {
      "key": {
        "uuid": "f64fa4db_63227230",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2018-02-09T22:22:35Z",
      "side": 1,
      "message": "if imgdiff is enabled",
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93b0b5db_c3fc80b7",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-02-10T07:12:24Z",
      "side": 1,
      "message": "Done\n\nAlso changed the line that creates the ImgdiffStats instance to be conditional - it won\u0027t be instantiated if disable_imgdiff.",
      "parentUuid": "f64fa4db_63227230",
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af2e4593_851869aa",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 401,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2018-02-09T22:22:35Z",
      "side": 1,
      "message": "would better also comments the side effect of imgdiff_stats update here; because we actually haven\u0027t run imgdiff yet. Are we removing the fallback later? Then we\u0027ll use imgdiff in all cases if this check pass.",
      "range": {
        "startLine": 401,
        "startChar": 6,
        "endLine": 401,
        "endChar": 19
      },
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6f6570b_f76bfcca",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 401,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-02-10T07:12:24Z",
      "side": 1,
      "message": "Yes, I plan to remove all the unconditional fallbacks (including the one for large APK).\n\nSilently falling back (even with warning in logs) seems barely to get noticed.",
      "parentUuid": "af2e4593_851869aa",
      "range": {
        "startLine": 401,
        "startChar": 6,
        "endLine": 401,
        "endChar": 19
      },
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f03dc9e5_ab26ee79",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 432,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2018-02-09T22:22:35Z",
      "side": 1,
      "message": "just curious, do we disable_imgdiff for squashfs? then maybe it worth a warning",
      "range": {
        "startLine": 432,
        "startChar": 48,
        "endLine": 432,
        "endChar": 68
      },
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bcb77804_52601083",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 432,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-02-10T07:12:24Z",
      "side": 1,
      "message": "Yes, we always disable imgdiff on squashfs, since the reported file_map is too inaccurate (files are not aligned to 4KiB). We can only use the file_map for bsdiff purpose (and hopefully that still helps with the size).\n\nDo you mean a warning from the caller (which is in ota_from_target_files), because otherwise BlockImageDiff doesn\u0027t know the exact reason.",
      "parentUuid": "f03dc9e5_ab26ee79",
      "range": {
        "startLine": 432,
        "startChar": 48,
        "endLine": 432,
        "endChar": 68
      },
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80e422dd_14b0aae1",
        "filename": "tools/releasetools/blockimgdiff.py",
        "patchSetId": 2
      },
      "lineNbr": 432,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2018-02-11T21:57:39Z",
      "side": 1,
      "message": "Actually I mean, since we already disable imgdiff on squashfs, we can be notified if the range isn\u0027t monotonic. Not so important because it\u0027s already in the status report.",
      "parentUuid": "bcb77804_52601083",
      "range": {
        "startLine": 432,
        "startChar": 48,
        "endLine": 432,
        "endChar": 68
      },
      "revId": "cb7c0caba08ee868ffe6ad5f60afdc9b1a2a8a54",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
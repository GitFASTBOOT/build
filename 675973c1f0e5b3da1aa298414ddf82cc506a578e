{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "00689fe2_25078eca",
        "filename": "core/android_soong_config_vars.mk",
        "patchSetId": 4
      },
      "lineNbr": 68,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2022-03-03T21:56:34Z",
      "side": 1,
      "message": "These two conditions shouldn\u0027t block the TARGET_PRODUCT condition when setting MODULE_BUILD_FROM_SOURCE. Please add it above instead:\n\n```\nifeq (,$(filter sdk win_sdk sdk_addon,$(MAKECMDGOALS))$(findstring com.google.android.conscrypt,$(PRODUCT_PACKAGES)))\n  # Blah blah\n  MODULE_BUILD_FROM_SOURCE :\u003d true\nelse ifeq (,$(filter-out modules_% mainline_modules_%,$(TARGET_PRODUCT)))\n  # Always build from source in unbundled builds using the module targets.\n  MODULE_BUILD_FROM_SOURCE :\u003d true\nelse\n  MODULE_BUILD_FROM_SOURCE ?\u003d $(BRANCH_DEFAULT_MODULE_BUILD_FROM_SOURCE)\nendif\n```\n\n(I guess you could cram it into the condition on line 48 instead, but imo that doesn\u0027t make it easier to read.)",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "675973c1f0e5b3da1aa298414ddf82cc506a578e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "529dc896_26226a13",
        "filename": "core/android_soong_config_vars.mk",
        "patchSetId": 4
      },
      "lineNbr": 68,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2022-03-03T22:00:49Z",
      "side": 1,
      "message": "Or actually, I think this is better to never stomp an explicitly set value:\n\n```\nifneq (,$(MODULE_BUILD_FROM_SOURCE))\n  # Keep an explicit setting.\nelse ifeq (,$(filter sdk win_sdk sdk_addon,$(MAKECMDGOALS))$(findstring com.google.android.conscrypt,$(PRODUCT_PACKAGES)))\n  # Blah blah\n  MODULE_BUILD_FROM_SOURCE :\u003d true\nelse ifeq (,$(filter-out modules_% mainline_modules_%,$(TARGET_PRODUCT)))\n  # Always build from source in unbundled builds using the module targets.\n  MODULE_BUILD_FROM_SOURCE :\u003d true\nelse\n  MODULE_BUILD_FROM_SOURCE :\u003d $(BRANCH_DEFAULT_MODULE_BUILD_FROM_SOURCE)\nendif\n```\n\n(Note `?\u003d` is no longer necessary in the last clause.)",
      "parentUuid": "00689fe2_25078eca",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "675973c1f0e5b3da1aa298414ddf82cc506a578e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a471440_7ba07b20",
        "filename": "core/android_soong_config_vars.mk",
        "patchSetId": 4
      },
      "lineNbr": 68,
      "author": {
        "id": 1305591
      },
      "writtenOn": "2022-03-03T22:08:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "529dc896_26226a13",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 61
      },
      "revId": "675973c1f0e5b3da1aa298414ddf82cc506a578e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
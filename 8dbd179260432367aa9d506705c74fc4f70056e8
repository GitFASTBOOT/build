{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cd174888_94033d88",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2021-02-03T16:15:18Z",
      "side": 1,
      "message": "- This mk updatable_apex.mk is meant for device builds\n- `lunch` also configures the build system for device builds\n- module_* products are not meant to be lunched. We could add an error for that\n\nLooking at the bug, I\u0027d argue this is user error",
      "range": {
        "startLine": 11,
        "startChar": 6,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "8dbd179260432367aa9d506705c74fc4f70056e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3f39205_bc136196",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-02-03T16:31:24Z",
      "side": 1,
      "message": "1. I regard lunch as a way to set up the build environment for local use. In this case it\u0027s for building a module to be adb install\u0027ed. Why shouldn\u0027t that work?\n\n2. Irrespective of lunch\u0027ing, it makes no sense that module_* products build flattened APEXes. We could also set TARGET_FLATTEN_APEX:\u003dfalse here rather than including updatable_apex.mk, but I figured it\u0027d be good to have one place for it, and that the other stuff in there doesn\u0027t matter for the APEXes.",
      "parentUuid": "cd174888_94033d88",
      "range": {
        "startLine": 11,
        "startChar": 6,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "8dbd179260432367aa9d506705c74fc4f70056e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6882074_efa258bc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2021-02-03T17:24:45Z",
      "side": 1,
      "message": "\u003e 1. I regard lunch as a way to set up the build environment for local use. In this case it\u0027s for building a module to be adb install\u0027ed. Why shouldn\u0027t that work?\n\nIt just isn\u0027t how the build system works. lunch configures it to build a device, tapas configures it to build something unbundled\n\n\u003e \n\u003e 2. Irrespective of lunch\u0027ing, it makes no sense that module_* products build flattened APEXes.\n\nmodule_* products don\u0027t do that. lunching a product that isn\u0027t meant to be lunched does that\n\nYes, we could set the flag, but that would only fix the first of the problems Alex will see. Next, there\u0027ll be other weird things going on such as symlinks being added etc. I think we should fix lunch to not allow this instead",
      "parentUuid": "c3f39205_bc136196",
      "range": {
        "startLine": 11,
        "startChar": 6,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "8dbd179260432367aa9d506705c74fc4f70056e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
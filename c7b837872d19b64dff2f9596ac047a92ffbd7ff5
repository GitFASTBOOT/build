{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c1862f5a_ba57b31d",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 5978,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2022-05-12T20:40:05Z",
      "side": 1,
      "message": "The SYSTEM/ directory contains the individual files that are packaged into system.img, but IIUC this is the image itself?  That doesn\u0027t seem useful.  Maybe ATC should be looking at the PREBUILT_IMAGES directory too?",
      "revId": "c7b837872d19b64dff2f9596ac047a92ffbd7ff5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab849ec5_b7159c28",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 5978,
      "author": {
        "id": 1882526
      },
      "writtenOn": "2022-05-13T13:57:03Z",
      "side": 1,
      "message": "The difference with system.img is that the pvmfw partition is intended to contain a single binary (no file system) so the \"disk image\" and the \"file\" it contains are identical.\n\n\u003e Maybe ATC should be looking at the PREBUILT_IMAGES directory too?\n\nWouldn\u0027t that result in false positives due to the images being AVB-signed using different salts across builds?",
      "parentUuid": "c1862f5a_ba57b31d",
      "revId": "c7b837872d19b64dff2f9596ac047a92ffbd7ff5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8a07623_c075fe48",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 5978,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2022-05-16T21:38:31Z",
      "side": 1,
      "message": "I like this better, although its a little weird as the `PVMFW/` doesn\u0027t contain the files inside the filesystem image like the other directories, it has the unsigned image.\n\nAnother option would be to have ATC track a set of images in the `IMAGES/` directory, but strip the AVB signing from them to avoid false positives.",
      "parentUuid": "ab849ec5_b7159c28",
      "revId": "c7b837872d19b64dff2f9596ac047a92ffbd7ff5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8320afcc_5fbf4001",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 5978,
      "author": {
        "id": 1882526
      },
      "writtenOn": "2022-05-17T10:09:06Z",
      "side": 1,
      "message": "I agree it\u0027s different; this approach should however come in handy once we stop dropping prebuilts in the AOSP tree (urgh!) and instead start building the firmware during the Android build. At that point, the partition will still contain the stripped binary but we\u0027ll be able to archive the ELF under `PVMFW/`, easing the debug process for a particular build.",
      "parentUuid": "e8a07623_c075fe48",
      "revId": "c7b837872d19b64dff2f9596ac047a92ffbd7ff5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "888725d1_5b2b7b20",
        "filename": "target/product/embedded.mk",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1013433
      },
      "writtenOn": "2016-04-26T20:32:54Z",
      "side": 1,
      "message": "Im ok with adding these as conditional based on TARGET_FS_CONFIG_GEN, it may result in a 0 length file added but only in the case an OEM is actually setting up filesystem customization, which seems reasonable.\n\nHowever, is it OK to gaurd PROD_PACK adds here?",
      "revId": "7be445415f3ec4cba7dcae60594f893b7e8c5fee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "888725d1_6d0ec026",
        "filename": "target/product/embedded.mk",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2016-04-26T22:12:33Z",
      "side": 1,
      "message": "No, in general don\u0027t use conditionals in product makefiles. (We can load them all in at the same time, and cache inherited products, which can lead to bad results when combined with conditionals)\n\nIf you really do need it to be optional, then you can either make the products that need it add it to their PRODUCT_PACKAGES, or conditionalize the definition of the module itself -- a missing module in PRODUCT_PACKAGES is not an error.",
      "parentUuid": "888725d1_5b2b7b20",
      "revId": "7be445415f3ec4cba7dcae60594f893b7e8c5fee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48560d47_f45d113a",
        "filename": "target/product/embedded.mk",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1013433
      },
      "writtenOn": "2016-04-27T16:02:11Z",
      "side": 1,
      "message": "Oh thanks Dan, I didn\u0027t realize that its ok to have it in PRODUCT_PACKAGES but no rule for the target. I think that fits the bill perfectly.",
      "parentUuid": "888725d1_6d0ec026",
      "revId": "7be445415f3ec4cba7dcae60594f893b7e8c5fee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
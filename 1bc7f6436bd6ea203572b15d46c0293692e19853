{
  "comments": [
    {
      "key": {
        "uuid": "d8a0a494_0db45ca7",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2020-04-17T17:14:44Z",
      "side": 0,
      "message": "They are used here to make the phony rules for the module name build the api file.  If that is still necessary we should rename these to LOCAL_PLATFORM_API_FILE and add them to clear_vars.mk.",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0be95059_be84c5c3",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-17T17:21:58Z",
      "side": 0,
      "message": "Thanks for catching this. If I\u0027m reading it right it\u0027s\n- creating the $(LOCAL_MODULE).txt PHONY -- I would assume this is unused, do you know of a good way to sruvey?\n\n- making $(LOCAL_MODULE) depend on the main stubs txt (not the stubs txt for the droiddoc being built). Doesn\u0027t really make sense, I think?",
      "parentUuid": "d8a0a494_0db45ca7",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f31109b5_88b0bd07",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-17T17:24:11Z",
      "side": 0,
      "message": "BTW - what series of gerrit button clicks allowed you to comment on an unchanged file? ðŸ˜‚",
      "parentUuid": "0be95059_be84c5c3",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3abd804_622d3a68",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2020-04-17T17:25:44Z",
      "side": 0,
      "message": "I don\u0027t know of any users of $(LOCAL_MODULE).txt, but I don\u0027t know how to check.\n\nI think the intention here was to make $(LOCAL_MODULE) depend on the stubs from the droiddoc if the droiddoc contained stubs.  I think this code was assuming INTERNAL_PLATFORM_API_FILE was set for each module and cleared between each module.\n\nThis code was added very recently by Paul in aosp/1282492",
      "parentUuid": "0be95059_be84c5c3",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6eeb162_feace018",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-17T19:29:25Z",
      "side": 0,
      "message": "aha it\u0027s almost like I should remember that :)\n\nI converted this .PHONY generation to soong androidmk instead of adding the new LOCAL_ variable, LMK if there are any problems with that (seemed to work in my testing).",
      "parentUuid": "a3abd804_622d3a68",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5baf4f31_2af842e6",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2020-04-24T08:53:34Z",
      "side": 0,
      "message": "This change was made as part of https://r.android.com/1281665.\n\nThe purpose of this code was to ensure that even when stubs are not being generated that you can use \"m module-lib-api\" to build the target. Without this you end up with a situation when \"m module-lib-api\" fails claiming that the target does not exist which is really confusing and useless. That would also apply to any module that uses \"framework-module-api-defaults-module_libs_api\".\n\nReplacing this with LOCAL_PLATFORM_API_FILE and clearing it would also work as long as the androidmk code that sets this property is also changed to match.",
      "parentUuid": "a3abd804_622d3a68",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42be9a22_3494601c",
        "filename": "core/soong_droiddoc_prebuilt.mk",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-24T08:59:04Z",
      "side": 0,
      "message": "I maintained the described behavior but decided not to beef up the make-part, instead just pointing the phony at the intermediate generated by soong",
      "parentUuid": "5baf4f31_2af842e6",
      "revId": "1bc7f6436bd6ea203572b15d46c0293692e19853",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "3e25795d_7614a8b8",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2019-01-21T05:38:54Z",
      "side": 1,
      "message": "Presubmit is failing because these odex/vdex files are already in the whitelist from     http://cs/android/build/make/core/main.mk?l\u003d1092\u0026rcl\u003d8ba31669e99270b453f40dd2a57dd6aa75bc9aaf, and they shouldn\u0027t be added twice.",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6897cd8_290176ad",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2019-01-21T06:58:26Z",
      "side": 1,
      "message": "Not really.\nIf I removed these, it will fail on my local codebase.\nI filed a bug b/123161175 for this problem and looking for it.",
      "parentUuid": "3e25795d_7614a8b8",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15db3593_b0531a9b",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2019-01-21T07:08:22Z",
      "side": 1,
      "message": "If I removed these 2 line, the error on my local is:\n\nbuild/make/core/main.mk:1114: warning:  build/target/product/gsi_arm64.mk produces files inside build/target/product/mainline_system.mks artifact path requirement. \nOffending entries:\nsystem/app/PhotoTable/oat/arm64/PhotoTable.odex\nsystem/app/PhotoTable/oat/arm64/PhotoTable.vdex",
      "parentUuid": "c6897cd8_290176ad",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2af78e63_46604038",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2019-01-22T09:30:32Z",
      "side": 1,
      "message": "I think the whitelisting is correct. The problem is that the odex/vdex files only get created on userdebug builds, but not on eng build. So for gsi_arm64-eng, the entries are redundant.",
      "parentUuid": "15db3593_b0531a9b",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fc9ac76_d93ec134",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2019-01-22T09:33:54Z",
      "side": 1,
      "message": "A workaround I have used on other products:\n\n    PRODUCT_ENFORCE_ARTIFACT_PATH_REQUIREMENTS :\u003d relaxed\n    # dexopt files are side-effects of other, already whitelisted files\n    PRODUCT_ARTIFACT_PATH_REQUIREMENT_WHITELIST +\u003d %.odex %.vdex %.art\n\nCould you try that?",
      "parentUuid": "2af78e63_46604038",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0d3fc66_3b642b6a",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2019-01-24T04:46:47Z",
      "side": 1,
      "message": "Sure, I will try it.",
      "parentUuid": "1fc9ac76_d93ec134",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77069a9c_b0247ed3",
        "filename": "target/product/gsi_common.mk",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2019-01-28T08:50:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0d3fc66_3b642b6a",
      "range": {
        "startLine": 40,
        "startChar": 4,
        "endLine": 41,
        "endChar": 51
      },
      "revId": "ae28edfb3b6a714116e365ac43b16e1cf0678726",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "0cf39504_1997271c",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2034,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-22T06:53:20Z",
      "side": 1,
      "message": "nit: use space",
      "range": {
        "startLine": 2034,
        "startChar": 0,
        "endLine": 2034,
        "endChar": 1
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f4da374_a0324875",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2048,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-22T06:53:20Z",
      "side": 1,
      "message": "Do we need *all* the files from recovery ramdisk? https://android.googlesource.com/platform/system/core/+/refs/heads/master/init/first_stage_init.cpp#213 seems to want only certain files from /debug_ramdisk, but this CL copies everything (e.g. /system/bin/recovery and recovery resource files). We\u0027ll run into size issues more easily.",
      "range": {
        "startLine": 2048,
        "startChar": 66,
        "endLine": 2048,
        "endChar": 86
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "155d47cb_28ca9275",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2048,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-22T07:02:26Z",
      "side": 1,
      "message": "Probably still needed, at least for $OUT/recovery/root/system/bin/fastbootd and their dependencies (to flash dynamic partitions)\n\nI\u0027d prefer 1) copying everything from original boot.img 2) adds additional files needed for \"debug ramdisk\" if possible. fastbootd is the only issue I can think of now, but I\u0027m not sure will there be other problems. I will try to figure out though.\n\ncould you elaborate more about the size issue? Is it because of build artifacts?\n(currently ramdisk-debug.img is 10M and boot-debug.img is 30M)",
      "parentUuid": "6f4da374_a0324875",
      "range": {
        "startLine": 2048,
        "startChar": 66,
        "endLine": 2048,
        "endChar": 86
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e3a7229_8721bce0",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2048,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-22T07:27:05Z",
      "side": 1,
      "message": "Ah my bad. I misread the code and thought it\u0027s putting a copy of all the recovery files under a subdir in recovery ramdisk.",
      "parentUuid": "155d47cb_28ca9275",
      "range": {
        "startLine": 2048,
        "startChar": 66,
        "endLine": 2048,
        "endChar": 86
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6b5eaca_50c54a2f",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2048,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-22T07:31:37Z",
      "side": 1,
      "message": "All, it\u0027s ok, I see.\n\nJust to be clear, the CL doesn\u0027t change any \"existing\" *.img or $OUT dirs.\nIt adds a new dir: $OUT/debug_ramdisk, then build two additional *img:\n    - ramdisk-debug.img\n    - boot-debug.img\n\nHTH :)",
      "parentUuid": "8e3a7229_8721bce0",
      "range": {
        "startLine": 2048,
        "startChar": 66,
        "endLine": 2048,
        "endChar": 86
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "beda5955_9296a2e2",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2050,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-20T06:46:38Z",
      "side": 1,
      "message": "The different part than orignal ramdisk.img.\n\nrecovery.img has similar logic:\nhttps://android-review.googlesource.com/c/platform/build/+/732494",
      "range": {
        "startLine": 2047,
        "startChar": 0,
        "endLine": 2050,
        "endChar": 73
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ee0ea42_6952254d",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2052,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-04-22T06:53:20Z",
      "side": 1,
      "message": "nit: no longer needs these @ or $(hide)",
      "range": {
        "startLine": 2052,
        "startChar": 1,
        "endLine": 2052,
        "endChar": 2
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "edf75b0e_7cf0c1a3",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2070,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-20T06:46:38Z",
      "side": 1,
      "message": "Also here, need to depend on boot.img",
      "range": {
        "startLine": 2068,
        "startChar": 0,
        "endLine": 2070,
        "endChar": 64
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04ae07d7_ade1fd96",
        "filename": "core/Makefile",
        "patchSetId": 4
      },
      "lineNbr": 2100,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-20T06:46:38Z",
      "side": 1,
      "message": "Copy the MKBOOTIMG ARGS from original boot.img, to replace the --ramdisk \"ramdisk.img\" to \"ramdisk-debug.img\".",
      "range": {
        "startLine": 2099,
        "startChar": 0,
        "endLine": 2100,
        "endChar": 89
      },
      "revId": "7bbf50e2849684ff74912c55379f23f13111c153",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
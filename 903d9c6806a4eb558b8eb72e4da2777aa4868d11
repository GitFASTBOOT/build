{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b6e5d9fe_5a70ea03",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-11-18T11:40:08Z",
      "side": 1,
      "message": "I am not sure if this is okay. If not, let me know what is the preferred way of doing this.",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "324055b1_17b2fec6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060667
      },
      "writtenOn": "2020-11-18T14:43:19Z",
      "side": 1,
      "message": "Is adding a flag for the mke2fs path to mkuserimg_mke2fs an option?",
      "parentUuid": "b6e5d9fe_5a70ea03",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a38c391_8aaefa1f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-11-18T15:06:07Z",
      "side": 1,
      "message": "That should work, but I don\u0027t want to do that because\n\n1) the path has to passed twice: once in build_image, and then once again in mkuserimg_mke2fs\n2) 1) is not only cumbersome but also leaking the impl detail of mkuserimg_mke2fs to build_image\n3) mke2fs is not the only program that mkuserimg_mke2fs uses. e2fsdroid is the another one.",
      "parentUuid": "324055b1_17b2fec6",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df27e35c_d86f53b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060667
      },
      "writtenOn": "2020-11-18T15:19:32Z",
      "side": 1,
      "message": "What I\u0027m worried about is the obscureness of this approach. It can lead to unpredictable results, and if that happens, it won\u0027t be easy to troubleshoot without you around.\n\n2) and 3) can be partly mitigated by supplying the host bin path instead.",
      "parentUuid": "5a38c391_8aaefa1f",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb0aeb22_01c4acd4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-11-19T04:00:28Z",
      "side": 1,
      "message": "This in effect is supplying host bin path, isn\u0027t it? PATH is already set to point there, and isn\u0027t pointing anywhere around /usr/bin, etc.",
      "parentUuid": "df27e35c_d86f53b0",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54ccf4d9_b1020062",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1060667
      },
      "writtenOn": "2020-11-19T05:41:43Z",
      "side": 1,
      "message": "Let\u0027s say something breaks it later, and none of us are around. It\u0027s either mkuserimg_mke2fs failing to find mke2fs and/or e2fsdroid or executing wrong ones. It\u0027ll be very tricky for someone who doesn\u0027t know about this trick to figure out that they should start from checking the PATH env var. Most wouldn\u0027t even think of looking into the build_image code.\n\nIn contrast, if there was an explicit path flag, troubleshooting is as simple as checking if the executables are at the expected place, and if so, if they\u0027re the correct ones. Plus, it\u0027s less error-prone.",
      "parentUuid": "fb0aeb22_01c4acd4",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e8a4608_ee8f955e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-11-19T16:30:14Z",
      "side": 1,
      "message": "That argument is difficult to accept. Lots of host tools (not just build_image) internally invoke other host tools. I don\u0027t think they all have to be with the absolute paths.",
      "parentUuid": "54ccf4d9_b1020062",
      "revId": "903d9c6806a4eb558b8eb72e4da2777aa4868d11",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
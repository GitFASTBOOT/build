{
  "comments": [
    {
      "key": {
        "uuid": "6b89e5eb_b57125df",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 1
      },
      "lineNbr": 808,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-05-14T02:33:41Z",
      "side": 1,
      "message": "Interesting. Do you know how it works in runtime, because the init code only supports 2 arguments cases: https://source.corp.google.com/android/system/core/init/import_parser.cpp;l\u003d28\n\nOr maybe oem has its own handlings of build prop? In that case we should probably not calling the parser at all in L787. Right now, the oem props are provided separately by an argument.",
      "range": {
        "startLine": 808,
        "startChar": 0,
        "endLine": 808,
        "endChar": 43
      },
      "revId": "cbdfa36cb89836032874905d3f93089ebb9b397c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "132f8acb_236f5fcc",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 1
      },
      "lineNbr": 808,
      "author": {
        "id": 1608690
      },
      "writtenOn": "2020-05-14T02:47:09Z",
      "side": 1,
      "message": "Here is the code logic: https://source.corp.google.com/android/system/core/init/property_service.cpp;l\u003d663.\n\nThe system partition can use it to load some properties form oem partition. By it, the OEMs flash different oem (custom) images to set different properties.\n\nhttps://docs.google.com/document/d/1gFfmIQn1_vbr6gym1r0ZxXEUhBKUpogAApSIgrnMOik/edit.\n\nPlease feel free to share your suggestion about how to improve this code piece. My change is just to make it workable. ðŸ˜Š",
      "parentUuid": "6b89e5eb_b57125df",
      "range": {
        "startLine": 808,
        "startChar": 0,
        "endLine": 808,
        "endChar": 43
      },
      "revId": "cbdfa36cb89836032874905d3f93089ebb9b397c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f8393e7_b282834f",
        "filename": "tools/releasetools/common.py",
        "patchSetId": 1
      },
      "lineNbr": 808,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-05-14T03:02:13Z",
      "side": 1,
      "message": "ahh.. thanks. Looks like the 3rd argument is the property name to look for. And it\u0027s not specific to oem.\n\nLet\u0027s just say:\nif tokens[0] !\u003d \u0027import\u0027 or (len(tokens) !\u003d 2 and len(tokens) !\u003d 3) :\n  raise ValueError(\u0027Unrecognized import statement {}\u0027.format(line))\nif len(tokens) \u003d\u003d 3:\n  logger.info(\"some msg\")\n  return {}",
      "parentUuid": "132f8acb_236f5fcc",
      "range": {
        "startLine": 808,
        "startChar": 0,
        "endLine": 808,
        "endChar": 43
      },
      "revId": "cbdfa36cb89836032874905d3f93089ebb9b397c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
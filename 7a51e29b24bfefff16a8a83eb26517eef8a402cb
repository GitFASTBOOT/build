{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a2c09e6e_6561cd9b",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1696,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2021-05-18T14:07:06Z",
      "side": 1,
      "message": "I think this should check that gettop succees before starting.  (m will do it too, but looking at _trigger_build, m won\u0027t return a nonzero status code, so making it explicit here is better.",
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd3ef3bc_b89e6195",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1696,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-05-18T22:39:12Z",
      "side": 1,
      "message": "Made _trigger_build return nonzero if it fails.",
      "parentUuid": "a2c09e6e_6561cd9b",
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09d4b259_7447819c",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1697,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2021-05-18T14:07:06Z",
      "side": 1,
      "message": "I think we should stop if m fails. If we don\u0027t, CONTROL+C won\u0027t stop it, which will be really annoying.  That\u0027ll mean going back and making _trigger_build return an error code too, but that\u0027s probably an improvement anyway.",
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09b24461_db197781",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1697,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-05-18T22:39:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09d4b259_7447819c",
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51a7b663_f104b175",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1699,
      "author": {
        "id": 1726181
      },
      "writtenOn": "2021-05-18T22:27:23Z",
      "side": 1,
      "message": "Would generally suggest putting user specified flags last\n\nSo that they can override any previous flags\n\nIn the current version, if --config\u003dbp2build sets something that a user wants to change, they won\u0027t be able to...",
      "range": {
        "startLine": 1699,
        "startChar": 28,
        "endLine": 1699,
        "endChar": 32
      },
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c340e554_077b8cc7",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1699,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-05-18T22:39:12Z",
      "side": 1,
      "message": "We\u0027re not expecting users to work outside of the synthetic workspace with `b` right now, so we should actually enforce it here IMO.\n\n(also --config\u003dbp2build cannot occur before $@, since it\u0027s not a startup flag, and we\u0027d need to do some command line parsing to inject it at the right place)",
      "parentUuid": "51a7b663_f104b175",
      "range": {
        "startLine": 1699,
        "startChar": 28,
        "endLine": 1699,
        "endChar": 32
      },
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7bbd04ab_6a09af32",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1699,
      "author": {
        "id": 1726181
      },
      "writtenOn": "2021-05-18T23:13:08Z",
      "side": 1,
      "message": "Re: https://cs.android.com/android/platform/superproject/+/master:build/soong/ui/build/bazel.go\n\nIt would be nice if we could do something like this\n\nBAZEL_BUILD_ARGS\u003d\"--config\u003dbp2build ${BAZEL_BUILD_ARGS}\" \"$(gettop)/tools/bazel\" \"$@\"\n\nHowever, the BAZEL_BUILD_ARGS logic is only in bazel.go and not bazel.sh. So I guess maybe an idea for later...",
      "parentUuid": "c340e554_077b8cc7",
      "range": {
        "startLine": 1699,
        "startChar": 28,
        "endLine": 1699,
        "endChar": 32
      },
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dde8e9d3_51f4c2d0",
        "filename": "envsetup.sh",
        "patchSetId": 3
      },
      "lineNbr": 1699,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-05-18T23:46:54Z",
      "side": 1,
      "message": "Yeah, that would be nice. We can also consider making --config\u003dbp2build default (and introduce --config\u003dstandalone or something), that could make the command simpler. But that\u0027s for later.",
      "parentUuid": "7bbd04ab_6a09af32",
      "range": {
        "startLine": 1699,
        "startChar": 28,
        "endLine": 1699,
        "endChar": 32
      },
      "revId": "7a51e29b24bfefff16a8a83eb26517eef8a402cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
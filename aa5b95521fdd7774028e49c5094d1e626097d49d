{
  "comments": [
    {
      "key": {
        "uuid": "656c45e7_e81fc9ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-09-24T05:00:01Z",
      "side": 1,
      "message": "Could you provide more information for this? (e.g. a bug or something)\n\nWithout knowing any context, this doesn\u0027t seem right because VNDK-SP is for Same-process HALs and Codec2 is NOT a same-process HAL.",
      "revId": "aa5b95521fdd7774028e49c5094d1e626097d49d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7dba8930_f347cb38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1120612
      },
      "writtenOn": "2020-09-24T05:17:57Z",
      "side": 1,
      "message": "Hi Jiyong,\n\nThe library libdmabufheap is going to be needed to build the shared library libcodec2_vndk(https://android.googlesource.com/platform/frameworks/av/+/master/media/codec2/vndk/Android.bp#16) Here is the bug number b/168333162.\nIn order to get it to build, we were following the example of libion(also marked VNDK-SP) which this library is supposed to deprecate/replace eventually. Would marking the library as double_loadable:true be more appropriate? Thank you!\n\nRegards,\nHridya",
      "parentUuid": "656c45e7_e81fc9ec",
      "revId": "aa5b95521fdd7774028e49c5094d1e626097d49d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e39f871_b275e5f7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2020-09-24T05:22:10Z",
      "side": 1,
      "message": "Thanks.\n\nWas \"support_system_process: true,\" in the other CL necessary? What happens when you drop it (while keeping vndk.enabled as true)?\n\nlibion is a little bit different because it\u0027s meant to be used by GPU devices which are SP-HALs. Codec2 isn\u0027t an SP-HAL.",
      "parentUuid": "7dba8930_f347cb38",
      "revId": "aa5b95521fdd7774028e49c5094d1e626097d49d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65084eae_1dd7a555",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010110
      },
      "writtenOn": "2020-09-26T06:11:12Z",
      "side": 1,
      "message": "If we drop \"support_system_process:true\" we see:\nerror: frameworks/av/media/codec2/vndk/Android.bp:16:1: module \"libcodec2_vndk\" variant \"android_vendor.S_arm_armv8-a_cortex-a73_shared\": links a library \"libdmabufheap\" which is not LL-NDK, VNDK-SP, or explicitly marked as \u0027double_loadable:true\u0027. (dependency: libcodec2_vndk -\u003e libdmabufheap)\n06:07:38 soong bootstrap failed with: exit status 1\n\nIs double_loadable:true a better fix then?\n\nAlso, its likely that DMABUF Heaps will be used by GPU devices as a replacement for ION in the future. So we may see grallocs making use of  libdmabufheap soon.",
      "parentUuid": "3e39f871_b275e5f7",
      "revId": "aa5b95521fdd7774028e49c5094d1e626097d49d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
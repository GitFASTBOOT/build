{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b60beda2_01f0666b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2024-04-11T22:49:02Z",
      "side": 1,
      "message": "Please address Hadrien\u0027s comments, but other than those LGTM.",
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd5b103e_32aae566",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1118,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "why not just the ANDROID_TOOL_LOGGER? we can at least have one less var",
      "range": {
        "startLine": 1118,
        "startChar": 8,
        "endLine": 1118,
        "endChar": 88
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e3ca859_0c20fd23",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1133,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "consider also log received_signal\u003d$1;",
      "range": {
        "startLine": 1133,
        "startChar": 3,
        "endLine": 1133,
        "endChar": 15
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "564a2104_300de7f0",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1137,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "does this include the actual command or just the params? If params then name the arg --tool_params",
      "range": {
        "startLine": 1137,
        "startChar": 15,
        "endLine": 1137,
        "endChar": 24
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58b3a2e6_57f70cbf",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1140,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "remove all the traps as soon as the first trap is entered. this prevents duplicate log entries",
      "range": {
        "startLine": 1140,
        "startChar": 6,
        "endLine": 1140,
        "endChar": 8
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca87083f_6e15fed3",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1140,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "EXIT and other signals are different. We can add the block following the command run, instead of trapping exit.\n\n```\ntrap `\n  exit_code\u003d$?;\n  upload_log ...\n  exit $exit_code\n\u0027 SIGINT SIGTERM SIGQUIT\n\"${tool_binary}\" \"${@}\"\nupload_log ...\n```",
      "range": {
        "startLine": 1140,
        "startChar": 2,
        "endLine": 1140,
        "endChar": 14
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5c48c78_45211ba1",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1141,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "consider propagate the signal by `kill -s $received_signal`?",
      "range": {
        "startLine": 1141,
        "startChar": 2,
        "endLine": 1141,
        "endChar": 17
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8674c19d_a0ba2b3d",
        "filename": "envsetup.sh",
        "patchSetId": 5
      },
      "lineNbr": 1145,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "nit: \n```\nif [[ \"${ANDROID_TOOL_LOGGER}\" ]]; then\n   #install trap\nfi\n\n# Run the original command\n```",
      "range": {
        "startLine": 1145,
        "startChar": 1,
        "endLine": 1145,
        "endChar": 25
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0763e583_90d03c30",
        "filename": "tests/run_tool_with_logging_test.py",
        "patchSetId": 5
      },
      "lineNbr": 169,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "nit: comment on what this is",
      "range": {
        "startLine": 169,
        "startChar": 33,
        "endLine": 169,
        "endChar": 36
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f458269_d69fd62d",
        "filename": "tests/run_tool_with_logging_test.py",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1990655
      },
      "writtenOn": "2024-04-11T23:08:56Z",
      "side": 1,
      "message": "can we assert on the actual logs instead? (args are implementation details. we care about results)\n\ntest_logger.assert_last_log_entry(\"FAKE_TOOL arg1, arg2, start_timestamp, 130, ...\")",
      "range": {
        "startLine": 175,
        "startChar": 16,
        "endLine": 175,
        "endChar": 66
      },
      "revId": "02a846c33ffc8cf5770d343a37b4dd21c4dfab07",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
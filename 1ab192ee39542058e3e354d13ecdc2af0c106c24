{
  "comments": [
    {
      "key": {
        "uuid": "ba0d9955_5c58f7f4",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 3247,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-11-14T23:47:40Z",
      "side": 1,
      "message": "Seems we\u0027re getting mismatch between the condition here and the change at 1061.\n\nWith a target using non-A/B OTA, building with any non-address sanitizer could fail the full OTA generation, because of missing updater in target_files.zip.\nhttps://android-review.googlesource.com/c/platform/build/+/826951/1/tools/releasetools/edify_generator.py#353\n\nThe line here should apply to SANITIZE_TARGET\u003daddress only (and to match the comment in 3246).",
      "range": {
        "startLine": 3247,
        "startChar": 0,
        "endLine": 3247,
        "endChar": 35
      },
      "revId": "1ab192ee39542058e3e354d13ecdc2af0c106c24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10d8587d_107236d3",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 3247,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2018-11-14T23:56:26Z",
      "side": 1,
      "message": "Thanks. I\u0027ve fixed this in my checkout, but\n1. ota generation succeeds both with and without the fix\n2. otas don\u0027t include \"update-binary\"\n\nIs it an \"A/B\" OTA? I\u0027m on walleye.\n\nOTAs then fail to apply after passing verification because exit code 1, with nothing interesting in serial console. How do I debug this?",
      "parentUuid": "ba0d9955_5c58f7f4",
      "range": {
        "startLine": 3247,
        "startChar": 0,
        "endLine": 3247,
        "endChar": 35
      },
      "revId": "1ab192ee39542058e3e354d13ecdc2af0c106c24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fbc4238_9db8d0d1",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 3247,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2018-11-15T00:06:31Z",
      "side": 1,
      "message": "walleye is using A/B OTA. We actually don\u0027t have an AOSP device that\u0027s actively using non-A/B OTA. Only non-A/B OTA will have that entry, which will become part of the package.\n\nOTA failing to apply is likely a different issue. If it failed during apply (i.e. as opposed to trying to boot into the new build), the logs are available in logcat (and a copy in /data/misc/update_engine_log/). Maybe we can discuss that in the bug with logs.",
      "parentUuid": "10d8587d_107236d3",
      "range": {
        "startLine": 3247,
        "startChar": 0,
        "endLine": 3247,
        "endChar": 35
      },
      "revId": "1ab192ee39542058e3e354d13ecdc2af0c106c24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
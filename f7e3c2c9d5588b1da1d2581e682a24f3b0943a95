{
  "comments": [
    {
      "key": {
        "uuid": "d3bb7530_b934f25b",
        "filename": "core/dex_preopt_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2019-01-16T16:14:22Z",
      "side": 1,
      "message": "intermediates-dir-for here breaks the layering between Soong and Make.  That layering is already a little confused due to dexpreopting the boot jars in Make, but I\u0027d like to not make it worse.  I\u0027d suggest copying the boot jars into $(PRODUCT_OUT)/dex_bootjars_input or something, and using that path here.  Then when I move dexpreopting the boot jars into Soong I can remove the extra copy.",
      "revId": "f7e3c2c9d5588b1da1d2581e682a24f3b0943a95",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38728076_275a2798",
        "filename": "core/dex_preopt_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-01-16T16:16:34Z",
      "side": 1,
      "message": "Where should I do that copy? Here?\nhttps://cs.corp.google.com/android/build/make/core/soong_java_prebuilt.mk?l\u003d85",
      "parentUuid": "d3bb7530_b934f25b",
      "revId": "f7e3c2c9d5588b1da1d2581e682a24f3b0943a95",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d22e5cbf_9eb57651",
        "filename": "core/dex_preopt_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2019-01-16T16:18:33Z",
      "side": 1,
      "message": "If you did it there you\u0027d have to do it in java.mk too to support boot jars that are not defined in Soong, although I\u0027ll have to require all boot jars in Soong once I move boot jar dexproepting there.  I\u0027d suggest doing it in dex_preopt_libart.mk or dex_preopt_libart_boot.mk",
      "parentUuid": "38728076_275a2798",
      "revId": "f7e3c2c9d5588b1da1d2581e682a24f3b0943a95",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93683dbf_15bfc874",
        "filename": "core/dex_preopt_config.mk",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-01-16T17:59:38Z",
      "side": 1,
      "message": "I\u0027ve tried, but now I\u0027m getting:\nFAILED: ninja: \u0027out/target/product/walleye/dex_bootjars_input/android.test.base.impl.jar\u0027, needed by \u0027out/soong/.intermediates/frameworks/base/services/services/android_common/dexpreopt/profile.prof\u0027, missing and no known rule to make it\n\nLooks like soong isn\u0027t getting the build rule?",
      "parentUuid": "d22e5cbf_9eb57651",
      "revId": "f7e3c2c9d5588b1da1d2581e682a24f3b0943a95",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
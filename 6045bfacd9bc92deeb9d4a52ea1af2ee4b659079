{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "25533973_5df8e120",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-19T23:09:28Z",
      "side": 1,
      "message": "PRODUCT_SHIPPING_API_LEVEL?",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 32
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01c5ee50_724674e1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-19T22:57:55Z",
      "side": 1,
      "message": "Stupid question, but can the define be added as a cflags on the module instead?",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d340335d_7bac9e48",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-19T23:01:08Z",
      "side": 1,
      "message": "I think we can\u0027t, because the switch should be applied to all modules (including direct and transitive dependencies) that are part of the APEX.",
      "parentUuid": "01c5ee50_724674e1",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21d579bd_fed4750f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-19T23:09:28Z",
      "side": 1,
      "message": "Ok, but at least it\u0027s static, i.e. it\u0027s not a define specifically for unbundled building only, or something similar?\n\nBtw, which define(s) are we talking about? Can they be mentioned here so curious readers can search for them?",
      "parentUuid": "d340335d_7bac9e48",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81c72fd1_f99bb147",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-20T03:13:30Z",
      "side": 1,
      "message": "The macro is __ANDROID_VNDK__. But it\u0027s not the only one we need for the swcodec APEX. We also expect that the modules that are part of the APEX be built with target.vendor specializations. e.g. adding/removing files/libraries depending on whether it\u0027s built for vendor or not.",
      "parentUuid": "21d579bd_fed4750f",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5413b4d9_a978a715",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-20T09:24:41Z",
      "side": 1,
      "message": "\u003e e.g. adding/removing files/libraries depending on whether it\u0027s built for vendor or not.\n\nDo I understand correctly that this is to avoid compiling in vendor-specific hacks? If so, it sounds like something that should be enabled in general in unbundled builds, and then it belongs here (ideally with a bit more obvious flag, but that\u0027s a detail).",
      "parentUuid": "81c72fd1_f99bb147",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8b89aa4_526b6e0c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-20T10:05:02Z",
      "side": 1,
      "message": "No, it\u0027s not like that. This is mainly to reduce the set of dependencies when a module is built for vendor. This is an example: https://source.corp.google.com/android/frameworks/av/media/libstagefright/bqhelper/Android.bp;rcl\u003de4bf72bdb74cbb87b8fae969bfcc0762705b27d1;l\u003d79\n\nwe don\u0027t need the dependency to libgui when the module is built for vendor. Instead we provide other libs that can provide some subset features of libgui.",
      "parentUuid": "5413b4d9_a978a715",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ddf51cd_91d023be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2021-04-20T15:38:21Z",
      "side": 1,
      "message": "FTR, we need this because this is in the Android.bp of libhidlbase:\n        enforce_vintf_manifest: {\n            cflags: [\"-DENFORCE_VINTF_MANIFEST\"],\n        },\n\nhttps://cs.android.com/android/platform/superproject/+/master:system/libhidl/Android.bp;l\u003d231-233?q\u003dname.*libhidlbase%20f:Android.bp\u0026ss\u003dandroid",
      "parentUuid": "c8b89aa4_526b6e0c",
      "range": {
        "startLine": 11,
        "startChar": 33,
        "endLine": 12,
        "endChar": 67
      },
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "424a048a_9984b0de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-19T23:01:08Z",
      "side": 1,
      "message": "+2 modulo Martin\u0027s comments",
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28248fd4_270d0d19",
        "filename": "target/product/module_common.mk",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-19T22:57:55Z",
      "side": 1,
      "message": "Please mention which module(s) need this.\n\nAlso, whenever we need to add stuff like this for the sake of specific modules I think we should have the goal to move it into the module, so there should tickets and TODO comments here pointing to them.",
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0edcc02c_177ba03d",
        "filename": "target/product/module_common.mk",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2021-04-20T15:38:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28248fd4_270d0d19",
      "revId": "6045bfacd9bc92deeb9d4a52ea1af2ee4b659079",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "997b796c_3504aa7d",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4872,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-10-19T20:44:56Z",
      "side": 1,
      "message": "Maybe consult some other variables to know that vbmeta_system is with product/system_ext/system, and generate a package for each group?\n\nFor vbmeta_system, in particular, are there any AVB related board variables that gives this information?\n\nIf partners need other partitions to go with the partial update, then maybe invent another variable like BOARD_(group)_STATIC_PARTITION_LIST, e.g.\n\n  BOARD_GOOGLE_SYSTEM_DYNAMIC_PARTITIONS_STATIC_PARTITION_LIST :\u003d some_oem_partition\n\n... and here, you can generate a partial update package for each update group.",
      "range": {
        "startLine": 4872,
        "startChar": 9,
        "endLine": 4872,
        "endChar": 49
      },
      "revId": "ca119487ffc125cd7ce903a960a502d1c84c7745",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df6d1bff_406d42f3",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4872,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-10-19T20:46:40Z",
      "side": 1,
      "message": "Or, if BOARD_AVB_VBMETA_SYSTEM isn\u0027t good enough to use, you can ask OEMs to do\n\n  BOARD_GOOGLE_SYSTEM_DYNAMIC_PARTITIONS_STATIC_PARTITION_LIST :\u003d vbmeta_system\n\nand here, generate a partial update for each group\u0027s PARTITION_LIST + STATIC_PARTITION_LIST.",
      "parentUuid": "997b796c_3504aa7d",
      "range": {
        "startLine": 4872,
        "startChar": 9,
        "endLine": 4872,
        "endChar": 49
      },
      "revId": "ca119487ffc125cd7ce903a960a502d1c84c7745",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1859b1f5_baedc0f1",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4872,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-10-19T21:17:31Z",
      "side": 1,
      "message": "hmm, I feel it\u0027s an overkill for now; and we prefer a simple configuration for this example? We can see what the real usage \u0026 request come up in practice and adjust accordingly. If we want, the AVB board variable would be \u0027BOARD_AVB_VBMETA_SYSTEM\u0027 + vbmeta_system. \n\nIMO, partial update with non-generic partitions (other than system \u0026 boot) are not very useful in practice. Because we are not using them on Pixels for now. And partners always need a unique update package for the device specific partitions, so they can just generate a \u0027complete\u0027 packages for with extra source_copy commands.",
      "parentUuid": "df6d1bff_406d42f3",
      "range": {
        "startLine": 4872,
        "startChar": 9,
        "endLine": 4872,
        "endChar": 49
      },
      "revId": "ca119487ffc125cd7ce903a960a502d1c84c7745",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7927703e_d0d4836d",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4872,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-10-19T21:22:08Z",
      "side": 1,
      "message": "I agree. The one small thing I don\u0027t like is that BOARD_PARTIAL_OTA_UPDATE_PARTITIONS_LIST is always a superset of BOARD_(group)_PARTITION_LIST for some (group) name that\u0027s OEM defined, so an OEM may configure the device incorrectly so that only part of an update group is updated.\n\nAlternatively, maybe we can have a check in ota_from_target_files that the arguments provided in --partial, minus static partitions, all belong to the same group?",
      "parentUuid": "1859b1f5_baedc0f1",
      "range": {
        "startLine": 4872,
        "startChar": 9,
        "endLine": 4872,
        "endChar": 49
      },
      "revId": "ca119487ffc125cd7ce903a960a502d1c84c7745",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3efff06b_be95500d",
        "filename": "core/Makefile",
        "patchSetId": 5
      },
      "lineNbr": 4872,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-10-19T21:23:41Z",
      "side": 1,
      "message": "Sorry, I mean to check that the arguments provided in --partial, minus static partitions, contains the whole update group; i.e. if it contains a partition from some group, it must contain other partitions in the group.",
      "parentUuid": "7927703e_d0d4836d",
      "range": {
        "startLine": 4872,
        "startChar": 9,
        "endLine": 4872,
        "endChar": 49
      },
      "revId": "ca119487ffc125cd7ce903a960a502d1c84c7745",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
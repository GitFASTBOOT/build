{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "63d0b754_4e1428ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-03T17:23:02Z",
      "side": 1,
      "message": "I have a quick question. This is a prototype or something we will push to aosp?",
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f679f81b_b430436a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1937565
      },
      "writtenOn": "2023-05-03T19:51:08Z",
      "side": 1,
      "message": "This is the real deal, but I expect the code to undergo several iterations.",
      "parentUuid": "63d0b754_4e1428ed",
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8c3471f_d1919fdd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-04T17:11:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f679f81b_b430436a",
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23a27853_7b2b7875",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-03T17:23:02Z",
      "side": 1,
      "message": "Not sure whether this is common is rust, it seems to me like a mutual `use`. I know it could work since we only import the `Source` here. But just curious.",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 28
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20f85b2c_a3d15ffe",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1937565
      },
      "writtenOn": "2023-05-03T19:51:08Z",
      "side": 1,
      "message": "I don\u0027t fully understand what your concern is. Can you rephrase the question please?",
      "parentUuid": "23a27853_7b2b7875",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 28
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "034339f7_e5d357e5",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-04T17:11:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20f85b2c_a3d15ffe",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 28
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fb2d2b1_61199f0c",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-03T17:23:02Z",
      "side": 1,
      "message": "My understanding here is one Item is identified by the `id`. The `id` here seems to be the namespace of the flag (the namespace is a little confusing, let\u0027s say something could map to the final certain flag in the code). The value here is all kinds of possible value of this flag, let\u0027s say, the original default, the override, etc.. It seems to me that the concept of `min_version` is missing here",
      "range": {
        "startLine": 34,
        "startChar": 8,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f880ab0d_e17e5cb9",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1937565
      },
      "writtenOn": "2023-05-03T19:51:08Z",
      "side": 1,
      "message": "You\u0027re right that the code is missing a few fields.\n\nWe should add the namespace field either to Cache (because aconfig works with a single namespace most of the time), or to each Item (using std::borrow::Cow). I need to think a bit about how things should work when we create the file of all flags that should go onto device, and if we should reuse the same file when a developer wants to print the value of all flags.\n\nmin_version: not implemented yet, I will add it in the next CL.",
      "parentUuid": "1fb2d2b1_61199f0c",
      "range": {
        "startLine": 34,
        "startChar": 8,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c9cd238_a39b70d4",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-04T17:11:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f880ab0d_e17e5cb9",
      "range": {
        "startLine": 34,
        "startChar": 8,
        "endLine": 34,
        "endChar": 27
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fd59219_467b3929",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-03T17:23:02Z",
      "side": 1,
      "message": "Could I know the benefit of Vec over Map?",
      "range": {
        "startLine": 39,
        "startChar": 11,
        "endLine": 39,
        "endChar": 14
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b144f674_08cc9362",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1937565
      },
      "writtenOn": "2023-05-03T19:51:08Z",
      "side": 1,
      "message": "I want the rest of the code to interact with cache objects by getting an iterator of its items, and rely on all the operations you can do with iterators instead of implementing them by hand for cache.\n\nFor this reason, Map was replaced by Vec. I initially thought of going with Set to highlight that you shouldn\u0027t rely on any order but was put of by the assumption that we\u0027d pay an unnecessary cost for the insert operations. WDYT?\n\nThe interface towards the rest of the code is an iterator over the items; the underlying type of container is an implementation detail of Cache.",
      "parentUuid": "9fd59219_467b3929",
      "range": {
        "startLine": 39,
        "startChar": 11,
        "endLine": 39,
        "endChar": 14
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b91ae60_f835c9bc",
        "filename": "tools/aconfig/src/cache.rs",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1944425
      },
      "writtenOn": "2023-05-04T17:11:52Z",
      "side": 1,
      "message": "Yea, sure. The reason I brought up map is I saw the current most usage is about lookup, so I thought map might be better.  But as the user of the cache might be it only requires the iter? Yea, we can keep in this way now, and make any change later if needed.",
      "parentUuid": "b144f674_08cc9362",
      "range": {
        "startLine": 39,
        "startChar": 11,
        "endLine": 39,
        "endChar": 14
      },
      "revId": "53f3661773657d5159a371ffd36576262eaafa5f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
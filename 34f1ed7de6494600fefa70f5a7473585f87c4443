{
  "comments": [
    {
      "key": {
        "uuid": "7f49844c_a17008b7",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1002268
      },
      "writtenOn": "2014-06-13T14:54:10Z",
      "side": 1,
      "message": "Why do we try to continue at all, instead of making post_process_props.py exit with an error and kill the build?\n\nIs either making the property blank or truncating it arbitrarily likely to produce a useful build?",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f49844c_2155f87d",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-06-13T17:02:01Z",
      "side": 1,
      "message": "In that case most of the aosp_*-userdebug (or if the user has a long username) won\u0027t build, because the fingerprint will be too long. What are the users supposed to do to proceed?\nIt seems with truncated fingerprint at least a dev build still work as long as you are not testing build fingerprint related code.\nOTOH, do you think if we can remove or shorten any part of the $(BUILD_FINGERPRINT)?  see discussion in https://b.corp.google.com/issue?id\u003d15593959 .",
      "parentUuid": "7f49844c_a17008b7",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df74307d_12c67d26",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1002268
      },
      "writtenOn": "2014-06-13T17:20:51Z",
      "side": 1,
      "message": "I think that if the problem is that the fingerprint is too bloated, the solution should be to unbloat the fingerprint, not hack up the property processor.\n\nPerhaps the max property size can be increased somewhat; these aren\u0027t the days of swetland.\n\nFor the specific case in that bug, I\u0027d look at:\n\n- what purpose does \"eng.\" in BUILD_NUMBER serve? can we just drop it?\n- how about the timestamp?  these usually aren\u0027t even accurate, since they only change when build.prop is regenerated, which isn\u0027t every build.\n- can we remove the periods in BUILD_NUMBER?\n- can we truncate usernames to (say) 8 chars?\n- can BUILD_ID be something shorter than \"OPENMASTER\" for aosp?",
      "parentUuid": "7f49844c_2155f87d",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df74307d_edd040db",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-06-13T18:46:04Z",
      "side": 1,
      "message": "I the bug, I believe Ying noted that people are looking at the eng.* specifically for various reasons.\n\nreplace \"OPENMASTER\" with \"AOSP\" perhaps?",
      "parentUuid": "df74307d_12c67d26",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df74307d_add728ca",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-06-13T18:47:30Z",
      "side": 1,
      "message": "also, ccross noted that we can\u0027t increase the size because the API doesn\u0027t specify the size of the callers buffer. so yes, we can change the API and push that through, but that is a bigger project.",
      "parentUuid": "df74307d_12c67d26",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfc3fcc9_5eeab5c3",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1002268
      },
      "writtenOn": "2014-06-13T18:50:23Z",
      "side": 1,
      "message": "The mgrep indicates that people are looking at $(BUILD_NUMBER).  We could leave that alone and put a more parsimonious version of it into the fingerprint.",
      "parentUuid": "df74307d_edd040db",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf713c8e_05e0f55c",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-06-14T00:45:42Z",
      "side": 1,
      "message": "Suggestions accepted:\n1) \"OPENMASTER\" -\u003e \"AOSP\"\n2) eng.$(USER).$(shell date +%Y%m%d.%H%M%S) -\u003e $(USER)$(shell date %m%d.%H%M)",
      "parentUuid": "df74307d_edd040db",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f49844c_5b682f33",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1038790
      },
      "writtenOn": "2014-06-13T02:14:32Z",
      "side": 1,
      "message": "I like the idea of truncating.  Lines 66, 67 should be removed.",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df74307d_529e3584",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1003981
      },
      "writtenOn": "2014-06-13T17:02:01Z",
      "side": 1,
      "message": "Hmm, these lines just tell the truth what would cause if the value is too long, that\u0027s why I prefer to keep them. Shall I change \"This will cause ...\" to \"This would cause ...\"?",
      "parentUuid": "7f49844c_5b682f33",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4e8057_c5d99a8f",
        "filename": "tools/post_process_props.py",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1038790
      },
      "writtenOn": "2014-06-14T01:09:32Z",
      "side": 1,
      "message": "If you truncate, the property will no longer be empty at runtime.",
      "parentUuid": "df74307d_529e3584",
      "revId": "34f1ed7de6494600fefa70f5a7473585f87c4443",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
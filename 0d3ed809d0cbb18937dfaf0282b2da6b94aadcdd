{
  "comments": [
    {
      "key": {
        "uuid": "daf39b44_51534386",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-04-05T19:06:02Z",
      "side": 1,
      "message": "I can actually remove this if-check but then the output is a little redundant for testcases that have already outlined this:\n\n\n$ ls out/target/product/angler/testcases/CtsNativeHardwareTestCases/*\nout/target/product/angler/testcases/CtsNativeHardwareTestCases/CtsNativeHardwareTestCases.config\n\nout/target/product/angler/testcases/CtsNativeHardwareTestCases/arm:\nCtsNativeHardwareTestCases32\n\nout/target/product/angler/testcases/CtsNativeHardwareTestCases/arm64:\nCtsNativeHardwareTestCases64\n\n\nDan/Colin preference/thoughts? I am on the fence and could go either way.",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e9ad3b61_273487e5",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-04-05T19:16:22Z",
      "side": 1,
      "message": "This only affects testcases output, I think it will be cleaner to remove the spacial tests. One concern is that this will add an arch parent dir for all tests, even those built with only one arch type, right?\n\nThe problem of that is GTestResultParser will include the arch dir as part of the test name (b/36897004). users will see a different test name in blackbox, which can be questionable.\n\nFor that reason, I guess we can keep the existing behavior, and only apply the logic to builds that generate multiple binaries with the same name for different arch.",
      "parentUuid": "daf39b44_51534386",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c01367f6_235b0289",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-04-05T19:22:55Z",
      "side": 1,
      "message": "On that note, please review the code as-is unless there is a major objection.",
      "parentUuid": "e9ad3b61_273487e5",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7167f1b1_3636a0fa",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2017-04-05T19:29:31Z",
      "side": 1,
      "message": "I don\u0027t like sometimes including the arch and sometimes not, it will cause tests to move around when you enable multilib or new arches.  For native tests we use different top level directories for 32 and 64 bit tests (/data/nativetest and /data/nativetest64).  Could you have $OUT/testcases and $OUT/testcases32?",
      "parentUuid": "c01367f6_235b0289",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fedd4906_6c8fb4be",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2017-04-05T20:02:32Z",
      "side": 1,
      "message": "$OUT/testcases and $OUT/testcases32 will lead to another problem, that is there will be multiple test config sharing the same name under different directories.\n\nSimran\u0027s change will put the test config in the parent folder, and test binaries in each arch dir inside the parent folder. That way, TF can discover the single test config and run all the test binaries.\n\nI think it\u0027s fine we remove that if check, and force an arch subfolder for test binaries. Users can always be educated.",
      "parentUuid": "7167f1b1_3636a0fa",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5afca729_09582913",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 449,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-04-05T20:22:51Z",
      "side": 1,
      "message": "I\u0027ll remove this check and that way its at least always the same directory structure for the testcase directories.",
      "parentUuid": "fedd4906_6c8fb4be",
      "range": {
        "startLine": 449,
        "startChar": 9,
        "endLine": 449,
        "endChar": 29
      },
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b0494ce_8246a399",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 453,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-04-05T20:01:27Z",
      "side": 1,
      "message": "(mainly because it\u0027s not actually true -- it\u0027s whether it\u0027s arch-specific)\n\n  is_native :\u003d",
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a30e78d_56d71310",
        "filename": "core/base_rules.mk",
        "patchSetId": 1
      },
      "lineNbr": 453,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2017-04-05T20:38:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b0494ce_8246a399",
      "revId": "0d3ed809d0cbb18937dfaf0282b2da6b94aadcdd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "2e3cad79_725d1349",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4319,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-02-15T01:09:02Z",
      "side": 1,
      "message": "This is $(PRODUCT_OUT)/system.img, so it seems like it\u0027s in the dependencies already...",
      "range": {
        "startLine": 4319,
        "startChar": 33,
        "endLine": 4319,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9868eab9_05c76d27",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4319,
      "author": {
        "id": 1278660
      },
      "writtenOn": "2019-02-15T01:12:43Z",
      "side": 1,
      "message": "It used to fail with\n\n[ 71% 16730/23427] Create system-qemu.img\nFAILED: out/target/product/generic_x86_64/system-qemu.img\n/bin/bash -c \"(export SGDISK\u003dout/host/linux-x86/bin/sgdisk SIMG2IMG\u003dout/host/linux-x86/bin/simg2img; device/generic/goldfish/tools/mk_qemu_image.sh out/target/product/generic_x86_64/system.img)\"\ndevice/generic/goldfish/tools/mk_qemu_image.sh: out/target/product/generic_x86_64/system.img does not exist\n\nnow it fails with\n\nFAILED: ninja: \u0027out/target/product/generic_x86_64/system.img\u0027, needed by \u0027out/target/product/generic_x86_64/system-qemu.img\u0027, missing and no known rule to make it\n\nLet me confirm what is happening.",
      "parentUuid": "2e3cad79_725d1349",
      "range": {
        "startLine": 4319,
        "startChar": 33,
        "endLine": 4319,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "552078da_570a43c9",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4319,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-02-15T01:15:15Z",
      "side": 1,
      "message": "Ah, that\u0027s probably because INSTALLED_SYSTEMIMAGE_TARGET isn\u0027t being set. In which case, the fix for the error is to ifdef it like the vendorimage below, but you probably need to set up the size and filesystem type of your systemimage so that we build one.",
      "parentUuid": "9868eab9_05c76d27",
      "range": {
        "startLine": 4319,
        "startChar": 33,
        "endLine": 4319,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16788987_3c1c3ceb",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4319,
      "author": {
        "id": 1278660
      },
      "writtenOn": "2019-02-15T01:20:40Z",
      "side": 1,
      "message": "Thank you. I will take a look.",
      "parentUuid": "552078da_570a43c9",
      "range": {
        "startLine": 4319,
        "startChar": 33,
        "endLine": 4319,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07bcb603_107fc940",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4319,
      "author": {
        "id": 1278660
      },
      "writtenOn": "2019-02-15T19:03:37Z",
      "side": 1,
      "message": "How do I set size and filesystem?",
      "parentUuid": "16788987_3c1c3ceb",
      "range": {
        "startLine": 4319,
        "startChar": 33,
        "endLine": 4319,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7edf7ca2_a69e93f0",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4321,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-02-15T01:09:02Z",
      "side": 1,
      "message": "This doesn\u0027t work, you\u0027ll always use the last version of MK_QEMU_IMAGE_INPUT. Our standard way to do this is with PRIVATE_* variables:\n\n  $(INSTALLED_QEMU_SYSTEMIMAGE): PRIVATE_INPUT :\u003d $(PRODUCT_OUT)/system.img\n  $(INSTALLED_QEMU_SYSTEMIMAGE): $(INSTALLED_SYSTEMIMAGE_TARGET) $(MK_QEMU_IMAGE_SH) $(PRODUCT_OUT)/system.img\n  \t... $(MK_QEMU_IMAGE_SH) $(PRIVATE_INPUT)",
      "range": {
        "startLine": 4321,
        "startChar": 73,
        "endLine": 4321,
        "endChar": 95
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c53f9cf9_37d7201f",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4321,
      "author": {
        "id": 1278660
      },
      "writtenOn": "2019-02-15T19:03:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7edf7ca2_a69e93f0",
      "range": {
        "startLine": 4321,
        "startChar": 73,
        "endLine": 4321,
        "endChar": 95
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3fd014b_20fe73bd",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4328,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-02-15T01:09:02Z",
      "side": 1,
      "message": "same here, this is $(PRODUCT_OUT)/vendor.img (and all the ones below)",
      "range": {
        "startLine": 4328,
        "startChar": 33,
        "endLine": 4328,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f34b255b_c96df17b",
        "filename": "core/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 4328,
      "author": {
        "id": 1278660
      },
      "writtenOn": "2019-02-15T19:03:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a3fd014b_20fe73bd",
      "range": {
        "startLine": 4328,
        "startChar": 33,
        "endLine": 4328,
        "endChar": 61
      },
      "revId": "d19c7c71d624d8712e6cf50d0cae2cb5a28b1556",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
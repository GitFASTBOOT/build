{
  "comments": [
    {
      "key": {
        "uuid": "45728e4b_9f5a59a0",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 234,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T12:41:57Z",
      "side": 1,
      "message": "build/soong/java/sdk_library.go",
      "range": {
        "startLine": 234,
        "startChar": 46,
        "endLine": 234,
        "endChar": 65
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f6e45bc_2e92e8f2",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 234,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T12:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45728e4b_9f5a59a0",
      "range": {
        "startLine": 234,
        "startChar": 46,
        "endLine": 234,
        "endChar": 65
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6aed95b3_3c6d70de",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 237,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T12:41:57Z",
      "side": 1,
      "message": "This is slightly different. \n\nIf LOCAL_SDK_VERSION is current or a number, *.stubs must be used.\nIf LOCAL_SDK_VERSION is system_*, *.stubs.system must be used.\nOtherwise (\u003dLOCAL_PRIVATE_PLATFORM_API), *.stubs.system is used. \n\nThe last part might be controversial, but anyway that\u0027s how java_sdk_library is written currently.",
      "range": {
        "startLine": 235,
        "startChar": 0,
        "endLine": 237,
        "endChar": 91
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b14b9923_7131cd20",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 237,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T12:52:10Z",
      "side": 1,
      "message": "The \"otherwise\" here is not \u003d LOCAL_PRIVATE_PLATFORM_API, it\u0027s core_current or test_current. LOCAL_PRIVATE_PLATFORM_API doesn\u0027t hit this path at all, as there\u0027s no LOCAL_SDK_VERSION.\n\nAlso, if you specify a number, you should get the modules from the prebuilts directory, not the HEAD stubs.\n\nI think we should make sdk_library support @TestApi too and then update this.",
      "parentUuid": "6aed95b3_3c6d70de",
      "range": {
        "startLine": 235,
        "startChar": 0,
        "endLine": 237,
        "endChar": 91
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb61aee4_ab279444",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 237,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T14:21:05Z",
      "side": 1,
      "message": "Yes, you are right. There is a hole that soong isn\u0027t aware of the sdk prebuilts other than android.jar.",
      "parentUuid": "b14b9923_7131cd20",
      "range": {
        "startLine": 235,
        "startChar": 0,
        "endLine": 237,
        "endChar": 91
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9714465d_c8a8a50a",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T12:41:57Z",
      "side": 1,
      "message": "why don\u0027t we do this once outside of the if block?",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 119
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f98616e6_2afa7c53",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T12:52:10Z",
      "side": 1,
      "message": "it\u0027s using different deps in the prebuilt case",
      "parentUuid": "9714465d_c8a8a50a",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 119
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fbfb9d1_333a2fdf",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T14:21:05Z",
      "side": 1,
      "message": "Yeah, but this doesn\u0027t look good. how about changing sdk_lib_stub_name to accept the suffix (and thus removing the conditionals inside it) other than LOCAL_SDK_VERSION?",
      "parentUuid": "f98616e6_2afa7c53",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 119
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1231c162_28a04092",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T14:32:48Z",
      "side": 1,
      "message": "The problem is the existing structure, which precludes deduplication (the bootclasspath suffers the same problem). I\u0027ll re-write it, hang on",
      "parentUuid": "9fbfb9d1_333a2fdf",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 119
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e30a6d93_cf27011b",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T15:13:43Z",
      "side": 1,
      "message": "all right, done. I think the new structure is clearer.. wdyt?",
      "parentUuid": "1231c162_28a04092",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 119
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6422ed53_27ff77bd",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T12:41:57Z",
      "side": 1,
      "message": "why the conversion is not done here?",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 129
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaf108b7_5e2e4a5e",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2018-04-25T12:52:10Z",
      "side": 1,
      "message": "this is using prebuilts, not the targets generated by sdk_library.go",
      "parentUuid": "6422ed53_27ff77bd",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 129
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9547c2c9_40b88aa4",
        "filename": "core/java_common.mk",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-04-25T14:21:05Z",
      "side": 1,
      "message": "Got it. This is missing in soong.",
      "parentUuid": "eaf108b7_5e2e4a5e",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 129
      },
      "revId": "aa9103a8ac88d22a5293030deeb89e598ff82a23",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f3707313_1fa96a9c",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-02-08T19:09:18Z",
      "side": 1,
      "message": "Can you use `$(call find-files-in-subdirs,$(BOARD_SYSTEM_DLKM_SRC),*.ko)` here?That will ensure it is recognized as a find command and optimized by kati.",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e07781af_cca0f3bd",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-08T19:19:23Z",
      "side": 1,
      "message": "But `find-files-in-subdirs` would not be able to handle non-existent directories. One of the build tests specified an invalid BOARD_SYSTEM_DLKM_SRC so we must handle that gracefully.",
      "parentUuid": "f3707313_1fa96a9c",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17a8b509_a7d04545",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-02-08T21:53:31Z",
      "side": 1,
      "message": "That seems like something that should be an error, can you fix the boards that specify an invalid BOARD_SYSTEM_DLKM_SRC?",
      "parentUuid": "e07781af_cca0f3bd",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d69add77_e262bdd3",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-08T21:59:43Z",
      "side": 1,
      "message": "It\u0027s here https://cs.android.com/android/platform/superproject/+/master:device/google/cuttlefish/shared/BoardConfig.mk;l\u003d23\n\nBut the same code path is used by many targets. We would need to perform a directory existence check. Might be easier to do it here?",
      "parentUuid": "17a8b509_a7d04545",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34fc1a6f_7dfd5bfb",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-02-08T22:08:39Z",
      "side": 1,
      "message": "You could wrap that in `$(wildcard)`, which will return empty if the path doesn\u0027t exist. I think that makes more sense in the BoardConfig.mk, since in most cases it will be specific path that should always exist, and if it is missing that is probably a sign of a typo that shouldn\u0027t be silently ignored.",
      "parentUuid": "d69add77_e262bdd3",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19bc6459_b9ce99ae",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 601,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-08T22:19:16Z",
      "side": 1,
      "message": "The old behavior is to gracefully handle non-existence directories(done by shell scripts before rsync) and partners are OK with it. Given the urgency of the request, can we first restore this BOARD_SYSTEM_DLKM_SRC feature to unblock partners, then make quality of life improvements?",
      "parentUuid": "34fc1a6f_7dfd5bfb",
      "range": {
        "startLine": 601,
        "startChar": 25,
        "endLine": 601,
        "endChar": 118
      },
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23268f44_99ecc644",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 602,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-02-08T19:09:18Z",
      "side": 1,
      "message": "All of the below commands will work fine even if SYSTEM_KERNEL_MODULES is empty, the if check is unnecessary",
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "646743b8_337539ea",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 602,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-08T19:19:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "23268f44_99ecc644",
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91912306_f229f44b",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 603,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2023-02-08T19:09:18Z",
      "side": 1,
      "message": "2-space indents for readability",
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a493d4c_42b49be6",
        "filename": "core/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 603,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-08T19:19:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91912306_f229f44b",
      "revId": "b8f8ab13bb968931e8e1b602d6139f7ff615eae6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "88726dce_95aecb7f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2022-03-10T18:30:27Z",
      "side": 1,
      "message": "Should we reconsider the way we hijack the bazel command instead? I think it\u0027s pretty disruptive to have the command do something nonstandard. I\u0027d rather use a nonstandard command like `b` to do whatever specialized stuff we need to do",
      "revId": "1f7d675f8f2e9ca3b7b9985dd4dd101229a0f4b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0edbd143_1fe85024",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1878380
      },
      "writtenOn": "2022-03-10T19:02:53Z",
      "side": 1,
      "message": "+jingwen +lberki, What are your thoughts on this? Can it be done by something like (note that this is untested)\n\n1.Expanding the configs in `build/bazel/common.bazelrc` to `[bp2build,queryview,standalone]`. The package path for this new `standalone` config will be the root of the source workspace instead of a synthetic one in out/\n2. Changing `build/bazel/bazel.sh` to support this new config\n2. Changing `b`, so that it can be invoked as something like `b --config\u003dstandalone build [targets...]`\n\nThe other option is to keep the current interface and use `b`, and run bp2build as part of it. But the api surfaces in Bazel have no dependencies on Soong/Make, so it might be a nice optimization to skip this step",
      "parentUuid": "88726dce_95aecb7f",
      "revId": "1f7d675f8f2e9ca3b7b9985dd4dd101229a0f4b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f76d63aa_2d8033e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2022-03-14T11:34:40Z",
      "side": 1,
      "message": "We need to hijack it for these reasons:\n\n- setting the path to the checked-in JDK to run Bazel with.\n- ensuring that `bazel` doesn\u0027t accidentally invoke /usr/bin/bazel (calling `bazel` in a workspace will always invoke `tools/bazel`, which is a symlink to the bazel wrapper)\n\nBasically, these lines: https://cs.android.com/android/platform/superproject/+/master:build/bazel/bazel.sh;l\u003d192-195;drc\u003d44c2ed4b5d0a5f405707986b1f6c85227d9a36d4\n\nI like the idea of having `b` for \"Roboleaf Bazel\" with a \"Roboleaf bazelrc\", and keeping `bazel` pure for standalone Bazel (with the server jdk stuff) without any default bazelrc. It probably doesn\u0027t need too much changes other than making `b` pass the default Roboleaf bazelrc (https://cs.android.com/android/platform/superproject/+/master:build/bazel/bazel.sh;l\u003d196;drc\u003d44c2ed4b5d0a5f405707986b1f6c85227d9a36d4) instead of letting bazel.sh do it.",
      "parentUuid": "0edbd143_1fe85024",
      "revId": "1f7d675f8f2e9ca3b7b9985dd4dd101229a0f4b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
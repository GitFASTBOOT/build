{
  "comments": [
    {
      "key": {
        "uuid": "fbcf738b_c2f1ef39",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-16T23:11:06Z",
      "side": 1,
      "message": "Why use eval here?\n\nALL_DISABLED_PRESUBMIT_TESTS needs to be initialized with :\u003d somewhere too, otherwise this is going to be rather inefficient (as variables are recursive by default)",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "baca96a4_6a0d428e",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-16T23:29:42Z",
      "side": 1,
      "message": "If I do \"ALL_DISABLED_PRESUBMIT_TESTS +\u003d $(LOCAL_MODULE)\" without eval, somehow the value is not added.\n\nmaybe this is related to that the variable is not initialized? Where will be the best place to initialize this? I guess main.mk can be the one, but is there a better place?",
      "parentUuid": "fbcf738b_c2f1ef39",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f535aa58_7794b219",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-16T23:36:25Z",
      "side": 1,
      "message": "It should work (at least without the quotes, which are just extra characters). That\u0027s exactly what line 659 is doing below.",
      "parentUuid": "baca96a4_6a0d428e",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "138aaf28_01625d1e",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-17T16:15:36Z",
      "side": 1,
      "message": "I tried before. Somehow without eval, build script gives me some irrelevant module in  ALL_DISABLED_PRESUBMIT_TESTS.\n\nMaybe it\u0027s related to how it\u0027s initialized? Where should this variable be initialized? I can\u0027t find anywhere ALL_MODULES is initialized.",
      "parentUuid": "f535aa58_7794b219",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dce3644e_9ce4f3ff",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-17T17:58:56Z",
      "side": 1,
      "message": "After I init ALL_DISABLED_PRESUBMIT_TESTS in config.mk, it\u0027s working as expected now.",
      "parentUuid": "138aaf28_01625d1e",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "163d0c36_c6f16a25",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-17T18:07:57Z",
      "side": 1,
      "message": "Ah, good point, if this is a recursive variable (not initialized), the value will just be tons of copies of the last LOCAL_MODULE.",
      "parentUuid": "dce3644e_9ce4f3ff",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44fe08e8_ef3fd013",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-17T19:14:06Z",
      "side": 1,
      "message": "Where can I see the copies of LOCAL_MODULE.xxx in compiled script? It\u0027s not in soong/Android-aosp_arm.mk\nIt\u0027s hard to debug in such case.",
      "parentUuid": "163d0c36_c6f16a25",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3645898e_b5abe1f9",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-19T20:20:05Z",
      "side": 1,
      "message": "I\u0027m not exactly sure what you want, but I\u0027m fairly sure it doesn\u0027t exist. You can use $(info ...) / $(warning ...) / $(error ...) for some level of printf debugging.\n\nThe generated ninja commands are in out/build-*.ninja (where * usually is $TARGET_PRODUCT, but it can vary depending on the request)",
      "parentUuid": "44fe08e8_ef3fd013",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb82b6ad_584bb76f",
        "filename": "core/base_rules.mk",
        "patchSetId": 3
      },
      "lineNbr": 652,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-19T20:43:30Z",
      "side": 1,
      "message": "I was trying to get a better understanding of how recursive variable will behave in this case. Should have read more about how variable works in submake. It makes sense to me now. Thanks!",
      "parentUuid": "3645898e_b5abe1f9",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01ec6df2_deb581e2",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-16T23:20:43Z",
      "side": 1,
      "message": "Why is this in $OUT_DIR? This should just be a temporary file under $(intermediates)",
      "range": {
        "startLine": 27,
        "startChar": 64,
        "endLine": 27,
        "endChar": 99
      },
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b26a39f_cccd09d3",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-16T23:29:42Z",
      "side": 1,
      "message": "This is for the file to be in a fixed and simple path (out/disabled-presubmit-tests) in zip file. soong_zip seems don\u0027t support adding file to an eixsting zip. So all files to be zipped are included in a list file (line 34).",
      "parentUuid": "01ec6df2_deb581e2",
      "range": {
        "startLine": 27,
        "startChar": 64,
        "endLine": 27,
        "endChar": 99
      },
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93150043_0bf2a157",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-04-16T23:34:31Z",
      "side": 1,
      "message": "Put it in the intermediates directory and add some more arguments to soong zip instead of listing it in the existing list file:\n\n  $(SOONG_ZIP) -o $@ -C . -l $@.list -C $(dir $@) -f $(dir $@)/disabled-presubmit-tests",
      "parentUuid": "4b26a39f_cccd09d3",
      "range": {
        "startLine": 27,
        "startChar": 64,
        "endLine": 27,
        "endChar": 99
      },
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9d149d9_f1a4b1b9",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-17T17:58:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93150043_0bf2a157",
      "range": {
        "startLine": 27,
        "startChar": 64,
        "endLine": 27,
        "endChar": 99
      },
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc767c35_b52eb558",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1083173
      },
      "writtenOn": "2018-04-16T23:10:50Z",
      "side": 1,
      "message": "You\u0027re appending it here right? Why not just create a new file and include it in the zip?\n\nOR can you respond with a \"fake\" version of this file so I have an idea what it looks like?",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bd1902b_85b93dea",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-16T23:29:42Z",
      "side": 1,
      "message": "seems soong_zip can\u0027t add more files to existing zip.",
      "parentUuid": "dc767c35_b52eb558",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "317a358f_b67c0815",
        "filename": "core/tasks/test_mapping.mk",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2018-04-17T17:58:56Z",
      "side": 1,
      "message": "Done\n\nfixed based on DanW\u0027s comment.",
      "parentUuid": "9bd1902b_85b93dea",
      "revId": "ec5ddd24875e1cf14bea24a9d59f8e52fadf791d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}